{"version":3,"sources":["components/CardCollection/styles.module.scss","components/ImageLoader/ImageLoader.module.scss","App.module.scss","components/CardRender/images/rarity/common.png","components/CardRender/images/rarity/uncommon.png","components/CardRender/images/rarity/rare.png","components/CardRender/images/rarity/mythic.png","components/CardRender/images/no-cover.jpg","components/GlowingStar/index.module.scss","components/CardEditor/styles.module.scss","components/ActionHover/styles.module.scss","interfaces/enums.ts","components/CardRender/injectUtils.tsx","components/ActionHover/ActionHover.tsx","cardReducer.ts","components/CardRender/cardToColor.ts","components/ImageLoader/ImageLoader.tsx","interfaces/constants.ts","store.tsx","components/CardRender/CardRender.tsx","components/GlowingStar/index.jsx","components/CardCollection/Cell.tsx","components/CardCollection/CardCollection.tsx","components/CardEditor/EditField.tsx","components/EditorTooltip/EditorTooltip.tsx","utils/dropbox-fetch-axios.ts","utils/accessService.ts","actions/errorLog.ts","actions/cardActions.ts","components/CardEditor/CardEditor.tsx","components/CollectionFilterControls/CollectionFilterControls.tsx","actions/mechanicActions.ts","components/MechanicModal/MechanicModal.tsx","utils/useLocalStorageHook.ts","components/ChangeLogModal/updateLog.tsx","components/ChangeLogModal/LogEntry.tsx","components/ChangeLogModal/ChangeLogModal.tsx","useWindowDimensions.js","components/AnnotationList/Annotation.tsx","components/AnnotationList/AnnotationEditor.tsx","components/AnnotationList/AnnotationList.tsx","actions/annotationActions.ts","components/BigCardRenderModal/BigCardRenderModal.tsx","actions/userActions.ts","App.tsx","MobileApp.tsx","serviceWorker.ts","index.tsx","components/AnnotationList/Annotations.module.scss","components/BigCardRenderModal/BigCardRenderModal.module.scss","components/ChangeLogModal/logEntry.module.scss","components/CollectionFilterControls/styles.module.scss"],"names":["module","exports","collection","swapButton","cardBox","edit","imgLoading","imgLoaded","fadeInImg","app","editor","collectionWrapper","tabBadge","mobileControls","desktopControls","fullWidth","fullHeight","sortControls","sortSelect","landscapeReminder","landscapeAddButton","accessKeyInput","authWrapper","loginWrapper","unauthenticated","authenticated","__webpack_require__","p","glowingStar","glow","noCard","splitInput","partialField","fullField","listItem","centerParent","label","tiny","button","buttonGroup","smallButtonGroup","tooltip","hovereffect","overlay","target","active","rotate","action","eastAction","westAction","southAction","northAction","CardMainType","RarityType","ColorType","SortByType","ChangeLogFeatureType","CardState","mapEnum","enumerable","fn","Object","keys","map","key","m","InjectStyle","ActionHover","actions","_actions$onHover","onHover","react_default","a","createElement","className","concat","styles","outer","onMouseEnter","children","icon","type","onClick","CardActionType","MechanicActionType","AnnotationActionType","UserActionType","injectDomElement","text","toReplace","toInject","toInjectClose","style","arguments","length","undefined","NONE","workingArray","Array","isArray","forEach","t","push","resultArray","elem","React","isValidElement","wrap","obj","ITALIC","fontStyle","splitArray","split","i","injectWithConfig","config","c","injectManaIcons","shadow","es","symbol","cost","RegExp","injectName","name","injectQuotationMarks","cardToColor","cardMainType","manaCost","color","Colorless","allColors","Land","setColor","Gold","White","Blue","Black","Red","Green","ImageLoader","_ref","src","alt","id","restProps","objectWithoutProperties","_useState","useState","_useState2","slicedToArray","loaded","setLoaded","assign","onLoad","cardReducer","state","annotationAccessor","RefreshCollection","_objectSpread","cards","card","loading","CreateCard","toConsumableArray","payload","newUuid","uuid","ReadCard","filter","BulkReadCard","find","newCard","UpdateCard","DeleteCard","GetMechanics","mechanics","CreateMechanic","mechanic","UpdateMechanic","DeleteMechanic","GetAnnotations","annotations","annotation","cardReference","CreateAnnotation","UpdateAnnotation","DeleteAnnotation","values","list","GetUser","user","SetCurrentUser","currentUser","UNKNOWN_CREATOR","initialState","initialStore","store_objectSpread","dispatch","Store","createContext","CardRender","cardRender","legendary","cardSubTypes","rarity","cardStats","cover","creator","cardText","flavourText","flavourAuthor","cardID","backFace","collectionNumber","collectionSize","_cardRender$container","containerWidth","smallText","useContext","_cardToColor","cssColorName","Planeswalker","width","resizeFactor","height","transform","transformOrigin","components_ImageLoader_ImageLoader","NoCover","MythicRare","MythicRareIcon","Rare","RareIcon","Uncommon","UncommonIcon","CommonIcon","val","injectPlaneswalkerIcons","cardName","arr","result","lines","line","match","indexOf","usedMechanic","cleanedLine","replace","braces","console","log","injectedRef","description","parsedDescription","injectMechanics","Creature","NonMemoCardRender","memo","GlowingStar","columnIndex","rowIndex","data","columnCount","seenCardUuids","currentEditId","addSeenCard","downloadCard","editCard","toggleShowBackConfig","showBackFaceConfig","mobile","index","isNew","components_GlowingStar","spin","size","spinning","components_ActionHover_ActionHover","components_CardRender_CardRender","back","Cell_objectSpread","front","es_button","areEqual","CardCollection","_ref$cards","_ref$downloadJson","downloadJson","_ref$colSpanSetting","colSpanSetting","setShowBackFaceConfig","newConfig","CardCollection_objectSpread","dist_index_esm","_ref2","columns","columnWidth","columnHeight","rows","Math","ceil","index_esm","rowHeight","rowCount","itemData","Cell","TextArea","EditField","props","fieldKey","getValue","saveValue","input","value","onChange","e","autosize","es_checkbox","checked","es_select","d","Option","bordered","dataSource","renderItem","item","Item","theme","twoToneColor","splice","footer","addToDataSource","code","loyalty","content","table","title","dataIndex","showHeader","pagination","EditorTooltip","popover","placement","_token","CONTENT_ENDPOINT","apiMethodRegex","get","apiMethod","apiArgs","endpoint","token","assert","string","ok","test","object","axios","headers","Authorization","Dropbox-API-Arg","JSON","stringify","post","Content-Type","dropbox_fetch_axios","AUTHORIZE_ENDPOINT","RPC_ENDPOINT","authorize","clientId","Promise","resolve","reject","download","path","zip","getMetadata","includeMediaInfo","includeDeleted","includeHasExplicitSharedMembers","bool","fetch","method","Access-Control-Allow-Origin","body","include_media_info","include_deleted","include_has_explicit_shared_members","setToken","upload","_ref$mode","mode","_ref$autorename","autorename","_ref$mute","mute","startsWith","dropboxAccess","localStorage","getItem","ActionTag","RequestTag","updateAccessToken","setItem","getAccessToken","hasAccessToken","captureError","message","request","additional","LogRocket","captureException","tags","extra","errorLog_objectSpread","EMPTY_CARD","uuidv4","Common","meta","comment","likes","dislikes","lastUpdated","moment","valueOf","createdAt","Draft","refreshCollection","args","params","accessKey","then","catch","error","response","status","es_message","Card","Get","createCard","success","Create","updateCard","updated","put","Update","dummyCard","CardEditor","_ref$card","saveTmpCard","contentChanged","setContentChanged","_useState3","_","cloneDeep","_useState4","originalCard","setOriginalCard","_useState5","_useState6","tmpCard","setTmpCard","_useState7","_useState8","timerId","setTimerId","_useState9","_useState10","editBack","setEditBack","_useContext","getCurrentFace","currentCard","newTmpCard","CardEditor_objectSpread","o","clearTimeout","tmpId","setTimeout","useEffect","isEqual","isPlaneswalker","hasMana","Emblem","hasStats","inputConfig","row","components_EditorTooltip_EditorTooltip","Group","display","CardEditor_EditField","disabled","CollectionFilterControls","setCollectionColSpan","setCollectionFilter","setNameFilter","createEnumInitState","group","setColSpanSetting","shownCardTypes","setShownCardTypes","shownColors","setShownColors","shownRarities","setShownRarities","updateEnumState","fct","newState","CollectionFilterControls_objectSpread","cardCountStats","colors","types","controls","controlItem","placeholder","allowClear","slider","defaultValue","marks","0","1","2","3","4","5","6","7","8","step","included","min","max","onAfterChange","nextColSpan","number","updateColSpan","getMechanics","Mechanic","updateMechanic","Column","Paragraph","MechanicModal","visible","setVisible","sortedMechanics","sortBy","MechanicModal_objectSpread","modal","onOk","onCancel","useFixedHeader","scroll","y","render","record","editable","rest","handleNameChange","handleDescriptionChange","createMechanic","useLocalStorage","localStorageKey","json","setValue","parse","newValue","Text","updateLog","version","Added","feature","Removed","None","Changed","Fixed","ListItem","LogEntry","entry","LogEntry_Text","Deprecated","delete","new","change","ChangeLogModal","_useLocalStorage","_useLocalStorage2","lastSeenVersion","updateLastSeenVersion","parseInt","info","ChangeLogModal_LogEntry","okText","getWindowDimensions","_window","window","innerWidth","innerHeight","Annotation","datetime","author","format","fromNow","AnnotationEditor","onSubmit","submitting","_ref$defaultContent","defaultContent","defaultAuthor","setContent","setAuthor","AnnotationEditor_TextArea","minRows","maxRows","dist_es","emoji","native","showSkinTones","showPreview","set","htmlType","AnnotationList","createAnnotation","isSubmitting","setIsSubmitting","container","flexDirection","flexWrapper","header","itemLayout","AnnotationList_Annotation","AnnotationList_AnnotationEditor","getAnnotations","BigCardRenderModal","hide","faces","_useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","rowLayout","wOffset","hEditorSpace","modalMaxWidth","modalMaxHeight","modalSingleCardWidth","modalDoubleCardWidth","singleCardWidth","fullCardWidth","cardHeight","annotationWidth","annotationHeight","updateState","updatedCard","BigCardRenderModal_objectSpread","draftView","ghost","Rate","liked","disliked","neededLikesCount","userUuidToNames","uuids","u","join","rateView","cursor","paddingLeft","stateButton","Approved","view","modalHeight","modalWidth","top","left","modalCardViewWrapper","wrapClassName","modalCardGroupWrapper","modalCardGroupWrapperDouble","modalCardGroupWrapperSingle","face","modalCardWrapper","annotationView","components_AnnotationList_AnnotationList","es_card","cardComment","setCurrentUser","identify","getUser","User","Search","confirm","TabPane","App","cardEditId","setCardEditId","cardViewId","setCardViewId","showCardModal","setShowCardModal","cardNameFilter","setCardNameFilter","_useState11","_useState12","mechanicsVisible","setMechanicsVisible","LastUpdated","setSortBy","_useLocalStorage3","_useLocalStorage4","setSeenCardUuids","_useState13","_useState14","collectionFilter","_useState15","_useState16","mergedCollection","sortList","Color","toLowerCase","Creator","lastAnnotatoin","reduce","b","filteredCollection","includes","getCard","openCardInEditor","refresh","App_objectSpread","fileDownload","viewCard","oldCardName","okType","cancelText","col","span","newSortByValue","components_CollectionFilterControls_CollectionFilterControls","seenCardObject","cardTabs","components_ChangeLogModal_ChangeLogModal","components_MechanicModal_MechanicModal","tabs","defaultActiveKey","tabObj","tab","badge","count","showZero","overflowCount","components_CardCollection_CardCollection","downloadImage","components_CardEditor_CardEditor","createGrid","marginTop","cardCollection","collectionData","downloadCollectionAsJson","components_BigCardRenderModal_BigCardRenderModal","findIndex","es_result","subTitle","enterButton","onSearch","location","reload","MobileApp","MobileApp_TabPane","MobileApp_Search","Boolean","hostname","init","setupLogRocketReact","ReactDOM","_useReducer","useReducer","reducer","_useReducer2","Provider","react_device_detect_dist","src_App","src_MobileApp","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.84c3886c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"collection\":\"styles_collection__1-3ZK\",\"swapButton\":\"styles_swapButton__3Vgc6\",\"cardBox\":\"styles_cardBox__2CHsT\",\"edit\":\"styles_edit__1pxPO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgLoading\":\"ImageLoader_imgLoading__2AA-A\",\"imgLoaded\":\"ImageLoader_imgLoaded__2QUR9\",\"fadeInImg\":\"ImageLoader_fadeInImg__2zrV3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2E5--\",\"editor\":\"App_editor__p756F\",\"collectionWrapper\":\"App_collectionWrapper__150I3\",\"collection\":\"App_collection__PRFDl\",\"tabBadge\":\"App_tabBadge__2FrWZ\",\"mobileControls\":\"App_mobileControls__wC_V1\",\"desktopControls\":\"App_desktopControls__3PRgH\",\"fullWidth\":\"App_fullWidth__1GC9Q\",\"fullHeight\":\"App_fullHeight__3uPur\",\"sortControls\":\"App_sortControls__1-nsz\",\"sortSelect\":\"App_sortSelect__3UqXA\",\"landscapeReminder\":\"App_landscapeReminder__3Q9ex\",\"landscapeAddButton\":\"App_landscapeAddButton__1YwTm\",\"accessKeyInput\":\"App_accessKeyInput__QdO9m\",\"authWrapper\":\"App_authWrapper__2aeRp\",\"loginWrapper\":\"App_loginWrapper__104yy\",\"unauthenticated\":\"App_unauthenticated__1hV4s\",\"authenticated\":\"App_authenticated__1IzEt\"};","module.exports = __webpack_public_path__ + \"static/media/common.4984a4f2.png\";","module.exports = __webpack_public_path__ + \"static/media/uncommon.5975ca6c.png\";","module.exports = __webpack_public_path__ + \"static/media/rare.5cddd28f.png\";","module.exports = __webpack_public_path__ + \"static/media/mythic.d94d6ade.png\";","module.exports = \"data:image/jpeg;base64,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tzOXLase7waIBTanpvb9RNOaXxxSvbHZPHP9k76Fj+gfQ5m845p2czPjwlgKfB05oNPS9Ire8Xjie+ef0RP+kdF6Xn02Xt/8PBowHhpdLh0mCuHDSK0hA3DYtJuOo9Nntki3bx6s8LYB44MNMGGmKnM1pHEcqzXdO6HXZPST3Y7z5zj48fvhcgM/g6T0WO8WvfJk4+zM+C9pSuOkUpWK1jwiIdgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/9kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glowingStar\":\"GlowingStar_glowingStar__24Wzb\",\"glow\":\"GlowingStar_glow__2C3OC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noCard\":\"styles_noCard__3IYeu\",\"editor\":\"styles_editor__ox5NG\",\"splitInput\":\"styles_splitInput__3wkDS\",\"partialField\":\"styles_partialField__1g7jM\",\"fullField\":\"styles_fullField__163u1\",\"listItem\":\"styles_listItem__3znQM\",\"centerParent\":\"styles_centerParent__mIZzA\",\"label\":\"styles_label__2s9z0\",\"tiny\":\"styles_tiny__1rgMC\",\"button\":\"styles_button__3jWgt\",\"buttonGroup\":\"styles_buttonGroup__3bxBV\",\"smallButtonGroup\":\"styles_smallButtonGroup__1kBOH\",\"tooltip\":\"styles_tooltip__16oyf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hovereffect\":\"styles_hovereffect__3VjJq\",\"overlay\":\"styles_overlay__2ni2j\",\"target\":\"styles_target__3jRLy\",\"active\":\"styles_active__YLVI1\",\"rotate\":\"styles_rotate__CL-RM\",\"action\":\"styles_action__2-3Di\",\"eastAction\":\"styles_eastAction__2XiWN\",\"westAction\":\"styles_westAction__3PBQn\",\"southAction\":\"styles_southAction__2qeEJ\",\"northAction\":\"styles_northAction__22TYw\"};","export function mapEnum(enumerable: any, fn: Function): any[] {\n  // get all the members of the enum\n  const enumMembers: any[] = Object.keys(enumerable).map(key => enumerable[key]);\n\n  // // we are only interested in the numeric identifiers as these represent the values\n  // let enumValues: number[] = enumMembers.filter(v => typeof v === 'number');\n\n  // now map through the enum values\n  return enumMembers.map(m => fn(m));\n}\n\nexport enum CardMainType {\n  Creature = 'Creature',\n  Instant = 'Instant',\n  Sorcery = 'Sorcery',\n  Enchantment = 'Enchantment',\n  Artifact = 'Artifact',\n  Land = 'Land',\n  Planeswalker = 'Planeswalker',\n  Emblem = 'Emblem'\n}\n\nexport enum RarityType {\n  Common = 'Common',\n  Uncommon = 'Uncommon',\n  Rare = 'Rare',\n  MythicRare = 'Mythic Rare'\n}\n\nexport enum ColorType {\n  White = 'white',\n  Blue = 'blue',\n  Black = 'black',\n  Red = 'red',\n  Green = 'green',\n  Colorless = 'colorless',\n  Gold = 'gold',\n  Land = 'land',\n  Planeswalker = 'planeswalker'\n}\n\nexport enum SortByType {\n  Color = 'Color',\n  LastUpdated = 'Last Updated',\n  Creator = 'Creator'\n}\n\nexport enum ChangeLogFeatureType {\n  Added = 'Added',\n  Changed = 'Changed',\n  Deprecated = 'Deprecated',\n  Removed = 'Removed',\n  Fixed = 'Fixed',\n  Security = 'Security',\n  None = ''\n}\n\nexport enum CardState {\n  Draft = 'Draft',\n  Rate = 'Rate',\n  Approved = 'Approved'\n}\n","import React from 'react';\n// @ts-ignore\nimport { Mana } from '@saeris/react-mana';\nimport MechanicInterface from '../../interfaces/MechanicInterface';\n\ninterface InjectFunc {\n  (\n    text: (string | JSX.Element) | (string | JSX.Element)[],\n    toReplace: RegExp,\n    toInject: JSX.Element | string,\n    toInjectClose?: JSX.Element | string,\n    style?: InjectStyle\n  ): (string | JSX.Element)[];\n}\n\nenum InjectStyle {\n  NONE,\n  ITALIC\n}\n\ninterface InjectionConfig {\n  toReplace: RegExp;\n  toInject: JSX.Element | string;\n  toInjectClose?: JSX.Element | string;\n  style?: InjectStyle;\n}\n\nconst injectDomElement: InjectFunc = (\n  text,\n  toReplace,\n  toInject,\n  toInjectClose,\n  style = InjectStyle.NONE\n) => {\n  const workingArray: (string | JSX.Element)[] = [];\n  if (Array.isArray(text)) {\n    text.forEach(t => workingArray.push(t));\n  } else {\n    workingArray.push(text);\n  }\n\n  const resultArray: (string | JSX.Element)[] = [];\n\n  workingArray.forEach(elem => {\n    if (React.isValidElement(elem)) {\n      resultArray.push(elem);\n      return;\n    }\n\n    if (typeof elem === 'string') {\n      const wrap = (obj: string | JSX.Element) => {\n        if (style === InjectStyle.ITALIC) {\n          return <span style={{ fontStyle: 'italic' }}>{obj}</span>;\n        }\n        return obj;\n      };\n\n      const splitArray = elem.split(toReplace);\n      for (let i = 0; i < splitArray.length - 1; i += 1) {\n        resultArray.push(splitArray[i]);\n        if (toInjectClose && i % 2 === 1) {\n          resultArray.push(wrap(toInjectClose));\n        } else {\n          resultArray.push(wrap(toInject));\n        }\n      }\n\n      resultArray.push(splitArray[splitArray.length - 1]);\n    }\n  });\n\n  return resultArray;\n};\n\nexport const injectWithConfig = (\n  text: (string | JSX.Element) | (string | JSX.Element)[],\n  config: InjectionConfig | InjectionConfig[]\n) => {\n  let workingArray = text;\n\n  if (!Array.isArray(config))\n    return injectDomElement(\n      workingArray,\n      config.toReplace,\n      config.toInject,\n      config.toInjectClose,\n      config.style\n    );\n\n  config.forEach(c => {\n    workingArray = injectDomElement(\n      workingArray,\n      c.toReplace,\n      c.toInject,\n      c.toInjectClose,\n      c.style\n    );\n  });\n\n  return workingArray;\n};\n\nexport const injectManaIcons = (\n  text: string | JSX.Element | (string | JSX.Element)[],\n  shadow?: boolean\n) => {\n  const config: InjectionConfig[] = [\n    { toReplace: /{[wW]}/, toInject: <Mana symbol=\"w\" cost shadow={shadow} /> },\n    { toReplace: /{[uU]}/, toInject: <Mana symbol=\"u\" cost shadow={shadow} /> },\n    { toReplace: /{[bB]}/, toInject: <Mana symbol=\"b\" cost shadow={shadow} /> },\n    { toReplace: /{[rR]}/, toInject: <Mana symbol=\"r\" cost shadow={shadow} /> },\n    { toReplace: /{[gG]}/, toInject: <Mana symbol=\"g\" cost shadow={shadow} /> },\n    { toReplace: /{[cC]}/, toInject: <Mana symbol=\"c\" cost shadow={shadow} /> },\n    { toReplace: /{[pP]}/, toInject: <Mana symbol=\"p\" cost shadow={shadow} /> },\n    {\n      toReplace: /{[wW][pP]}|{[pP][wW]}/,\n      toInject: <Mana symbol=\"wp\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[uU][pP]}|{[pP][uU]}/,\n      toInject: <Mana symbol=\"up\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][pP]}|{[pP][bB]}/,\n      toInject: <Mana symbol=\"bp\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[rR][pP]}|{[pP][rR]}/,\n      toInject: <Mana symbol=\"rp\" shadow={shadow} />\n    },\n    {\n      toReplace: /{[gG][pP]}|{[pP][gG]}/,\n      toInject: <Mana symbol=\"gp\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[wW]}|{[wW]2}/,\n      toInject: <Mana symbol=\"2w\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[uU]}|{[uU]2}/,\n      toInject: <Mana symbol=\"2u\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[bB]}|{[bB]2}/,\n      toInject: <Mana symbol=\"2b\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[rR]}|{[rR]2}/,\n      toInject: <Mana symbol=\"2r\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[gG]}|{[gG]2}/,\n      toInject: <Mana symbol=\"2g\" cost shadow={shadow} />\n    },\n    { toReplace: /{[sS]}/, toInject: <Mana symbol=\"s\" cost shadow={shadow} /> },\n    { toReplace: /{[xX]}/, toInject: <Mana symbol=\"x\" cost shadow={shadow} /> },\n    { toReplace: /{[yY]}/, toInject: <Mana symbol=\"y\" cost shadow={shadow} /> },\n    { toReplace: /{[zZ]}/, toInject: <Mana symbol=\"z\" cost shadow={shadow} /> },\n    {\n      toReplace: /{[wW][uU]}|{[uU][wW]}/,\n      toInject: <Mana symbol=\"wu\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[wW][bB]}|{[bB][wW]}/,\n      toInject: <Mana symbol=\"wb\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][uU]}|{[uU][bB]}/,\n      toInject: <Mana symbol=\"ub\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[rR][uU]}|{[uU][rR]}/,\n      toInject: <Mana symbol=\"ur\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][rR]}|{[rR][bB]}/,\n      toInject: <Mana symbol=\"br\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][gG]}|{[gG][bB]}/,\n      toInject: <Mana symbol=\"bg\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[rR][gG]}|{[gG][rR]}/,\n      toInject: <Mana symbol=\"rg\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[wW][rR]}|{[rR][wW]}/,\n      toInject: <Mana symbol=\"rw\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[wW][gG]}|{[gG][wW]}/,\n      toInject: <Mana symbol=\"gw\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[uU][gG]}|{[gG][uU]}/,\n      toInject: <Mana symbol=\"gu\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[tT]}/,\n      toInject: <Mana symbol=\"tap\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[uU][tT]}|{[tT][uU]}/,\n      toInject: <Mana symbol=\"untap\" cost shadow={shadow} />\n    }\n  ];\n\n  for (let i = 0; i <= 20; i += 1) {\n    config.push({\n      toReplace: new RegExp(`\\\\{${i}\\\\}`),\n      toInject: <Mana symbol={`${i}`} cost shadow={shadow} />\n    });\n  }\n\n  return injectWithConfig(text, config);\n};\n\nexport const injectPlaneswalkerIcons = (text: string | JSX.Element | (string | JSX.Element)[]) => {\n  const config: InjectionConfig[] = [\n    {\n      toReplace: /{\\+x}/,\n      toInject: <i className=\"ms ms-loyalty-up ms-loyalty-x\" />\n    },\n    {\n      toReplace: /{-x}/,\n      toInject: <i className=\"ms ms-loyalty-down ms-loyalty-x\" />\n    }\n  ];\n\n  for (let i = 0; i <= 20; i += 1) {\n    config.push({\n      toReplace: new RegExp(`{\\\\+${i}}`),\n      toInject: <i className={`ms ms-loyalty-${i} ms-loyalty-up`} />\n    });\n    config.push({\n      toReplace: new RegExp(`{\\\\-${i}}`),\n      toInject: <i className={`ms ms-loyalty-${i} ms-loyalty-down`} />\n    });\n  }\n\n  return injectWithConfig(text, config);\n};\n\nexport const injectName = (text: string | JSX.Element | (string | JSX.Element)[], name: string) => {\n  return injectWithConfig(text, {\n    toReplace: /~/,\n    toInject: name\n  });\n};\n\nexport const injectQuotationMarks = (text: string | JSX.Element | (string | JSX.Element)[]) => {\n  return injectWithConfig(text, {\n    toReplace: /\"(.*)\"/,\n    // toInject: ''\n    toInject: '',\n    toInjectClose: ''\n  });\n};\n\nexport const injectMechanics = (\n  text: string | JSX.Element | (string | JSX.Element)[],\n  mechanics: MechanicInterface[],\n  cardName = ''\n) => {\n  const arr: (string | JSX.Element)[] = Array.isArray(text) ? text : [text];\n\n  const result: (string | JSX.Element)[] = [];\n  arr.forEach(elem => {\n    if (typeof elem !== 'string') {\n      result.push(elem);\n      return;\n    }\n\n    const lines = elem.split(/(\\[.*\\])/).filter(line => line.length > 0 && !line.match(/^\\s*$/));\n    lines.forEach((line, i) => {\n      if (line.indexOf('[') === -1 || line.indexOf(']') === -1) {\n        result.push(line);\n        return;\n      }\n      const usedMechanic = mechanics.find(\n        mechanic => line.indexOf(mechanic.name) !== -1 && !mechanic.name.match(/^\\s*$/)\n      );\n      if (!usedMechanic) {\n        result.push(line);\n        return;\n      }\n      const cleanedLine = line.replace(usedMechanic.name, '').replace(/\\[|\\]|\\s*/g, '');\n      if (cleanedLine === '-') {\n        result.push(<span style={{ fontStyle: 'italic' }}>{`(${usedMechanic.description})`}</span>);\n        return;\n      }\n      const braces = i === lines.length - 1 && !!cleanedLine.match(/^\\d{0,2}$|^(\\{.{1,2}\\})+$/);\n      console.log(cleanedLine.length);\n      console.log(cleanedLine, usedMechanic, braces ? 'braces' : 'minus');\n      const injectedRef = usedMechanic.description.replace(/\\{ref\\}/g, cleanedLine);\n      const parsedDescription = injectManaIcons(\n        injectQuotationMarks(injectName(injectedRef, cardName))\n      );\n      if (braces) {\n        result.push(`${usedMechanic.name} ${cleanedLine} (`);\n        result.push(<span style={{ fontStyle: 'italic' }}>{parsedDescription}</span>);\n        result.push(')');\n      } else {\n        result.push(`${usedMechanic.name}  ${cleanedLine} `);\n        result.push(<span>{parsedDescription}</span>);\n      }\n    });\n  });\n\n  return result;\n};\n","import React from 'react';\n\nimport { Icon } from 'antd';\nimport styles from './styles.module.scss';\n\ninterface ActionHoverInterface {\n  northAction?: { icon: string; action: () => void };\n  southAction?: { icon: string; action: () => void };\n  eastAction?: { icon: string; action: () => void };\n  westAction?: { icon: string; action: () => void };\n  active?: boolean;\n  onHover?: () => void;\n}\n\nconst ActionHover: React.FC<ActionHoverInterface> = actions => {\n  const { northAction, eastAction, westAction, southAction, active, onHover = () => {} } = actions;\n\n  return (\n    <div\n      className={`${styles.outer} ${active ? styles.active : ''}`}\n      onMouseEnter={() => onHover()}\n    >\n      <div className={styles.hovereffect}>\n        <div className={styles.target}>{actions.children}</div>\n        <div className={styles.overlay}>\n          {eastAction && (\n            <Icon\n              className={`${styles.action} ${styles.eastAction}`}\n              type={eastAction.icon}\n              onClick={eastAction.action}\n            />\n          )}\n          {northAction && (\n            <Icon\n              className={`${styles.action} ${styles.northAction}`}\n              type={northAction.icon}\n              onClick={northAction.action}\n            />\n          )}\n          {westAction && (\n            <Icon\n              className={`${styles.action} ${styles.westAction}`}\n              type={westAction.icon}\n              onClick={westAction.action}\n            />\n          )}\n          {southAction && (\n            <Icon\n              className={`${styles.action} ${styles.southAction}`}\n              type={southAction.icon}\n              onClick={southAction.action}\n            />\n          )}\n          <div className={styles.rotate}>\n            <hr />\n            <hr />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ActionHover;\n","import CardInterface from './interfaces/CardInterface';\nimport MechanicInterface from './interfaces/MechanicInterface';\nimport AnnotationInterface from './interfaces/AnnotationInterface';\nimport AnnotationAccessorInterface from './interfaces/AnnotationAccessorInterface';\nimport UserInterface from './interfaces/UserInterface';\n\nexport enum CardActionType {\n  RefreshCollection = 'refresh-collection',\n  CreateCard = 'create-card',\n  BulkReadCard = 'bulk-read-card',\n  ReadCard = 'read-card',\n  UpdateCard = 'update-card',\n  DeleteCard = 'delete-card'\n}\n\nexport enum MechanicActionType {\n  GetMechanics = 'get-mechanics',\n  CreateMechanic = 'create-mechanic',\n  UpdateMechanic = 'update-mechanic',\n  DeleteMechanic = 'delete-mechanic'\n}\n\nexport enum AnnotationActionType {\n  GetAnnotations = 'get-annotations',\n  CreateAnnotation = 'create-annotation',\n  UpdateAnnotation = 'update-annotation',\n  DeleteAnnotation = 'delete-annotation'\n}\n\nexport enum UserActionType {\n  GetUser = 'get-user',\n  SetCurrentUser = 'set-current-user'\n}\n\ntype State = {\n  cards: CardInterface[];\n  mechanics: MechanicInterface[];\n  annotationAccessor: AnnotationAccessorInterface;\n  user: UserInterface[];\n  newUuid?: string;\n};\n\nexport type Action =\n  | { type: CardActionType.RefreshCollection }\n  | { type: CardActionType.CreateCard; payload: { card: CardInterface } }\n  | { type: CardActionType.BulkReadCard; payload: { cards: CardInterface[] } }\n  | { type: CardActionType.ReadCard; payload: { card: CardInterface } }\n  | { type: CardActionType.UpdateCard; payload: { card: CardInterface } }\n  | { type: CardActionType.DeleteCard; payload: { uuid: string } }\n  | { type: MechanicActionType.GetMechanics; payload: { mechanics: MechanicInterface[] } }\n  | { type: MechanicActionType.CreateMechanic; payload: { mechanic: MechanicInterface } }\n  | { type: MechanicActionType.UpdateMechanic; payload: { mechanic: MechanicInterface } }\n  | { type: MechanicActionType.DeleteMechanic; payload: { uuid: string } }\n  | { type: AnnotationActionType.GetAnnotations; payload: { annotations: AnnotationInterface[] } }\n  | { type: AnnotationActionType.CreateAnnotation; payload: { annotation: AnnotationInterface } }\n  | { type: AnnotationActionType.UpdateAnnotation; payload: { annotation: AnnotationInterface } }\n  | { type: AnnotationActionType.DeleteAnnotation; payload: { uuid: string } }\n  | { type: UserActionType.GetUser; payload: { user: UserInterface[] } }\n  | { type: UserActionType.SetCurrentUser; payload: { user: UserInterface } };\n\nconst cardReducer: React.Reducer<State, Action> = (state, action) => {\n  let annotationAccessor: AnnotationAccessorInterface;\n\n  switch (action.type) {\n    case CardActionType.RefreshCollection:\n      return {\n        ...state,\n        cards: state.cards.map(card => ({ ...card, loading: true }))\n      };\n    case CardActionType.CreateCard:\n      return {\n        ...state,\n        cards: [...state.cards, action.payload.card],\n        newUuid: action.payload.card.uuid\n      };\n    case CardActionType.ReadCard:\n      return {\n        ...state,\n        cards: [\n          ...state.cards.filter(card => card.uuid !== action.payload.card.uuid),\n          action.payload.card\n        ]\n      };\n    case CardActionType.BulkReadCard:\n      return {\n        ...state,\n        cards: [\n          ...state.cards.filter(\n            card => !action.payload.cards.find(newCard => newCard.uuid === card.uuid)\n          ),\n          ...action.payload.cards\n        ]\n      };\n    case CardActionType.UpdateCard:\n      return {\n        ...state,\n        cards: [\n          ...state.cards.filter(card => card.uuid !== action.payload.card.uuid),\n          action.payload.card\n        ]\n      };\n    case CardActionType.DeleteCard:\n      return {\n        ...state,\n        cards: [...state.cards.filter(card => card.uuid !== action.payload.uuid)]\n      };\n\n    case MechanicActionType.GetMechanics:\n      return {\n        ...state,\n        mechanics: action.payload.mechanics\n      };\n    case MechanicActionType.CreateMechanic:\n      return {\n        ...state,\n        mechanics: [...state.mechanics, action.payload.mechanic]\n      };\n    case MechanicActionType.UpdateMechanic:\n      return {\n        ...state,\n        mechanics: [\n          ...state.mechanics.filter(mechanic => mechanic.uuid !== action.payload.mechanic.uuid),\n          action.payload.mechanic\n        ]\n      };\n    case MechanicActionType.DeleteMechanic:\n      return {\n        ...state,\n        mechanics: [...state.mechanics.filter(mechanic => mechanic.uuid !== action.payload.uuid)]\n      };\n    case AnnotationActionType.GetAnnotations:\n      // eslint-disable-next-line no-case-declarations\n      annotationAccessor = {};\n\n      action.payload.annotations.forEach(annotation => {\n        if (!annotationAccessor[annotation.cardReference]) {\n          annotationAccessor[annotation.cardReference] = [annotation];\n        } else annotationAccessor[annotation.cardReference].push(annotation);\n      });\n      return {\n        ...state,\n        annotationAccessor\n      };\n    case AnnotationActionType.CreateAnnotation:\n      // eslint-disable-next-line no-case-declarations\n      annotationAccessor = { ...state.annotationAccessor };\n      if (!state.annotationAccessor[action.payload.annotation.cardReference]) {\n        annotationAccessor[action.payload.annotation.cardReference] = [action.payload.annotation];\n      } else\n        annotationAccessor[action.payload.annotation.cardReference].push(action.payload.annotation);\n\n      return {\n        ...state,\n        annotationAccessor\n      };\n    case AnnotationActionType.UpdateAnnotation:\n      annotationAccessor = { ...state.annotationAccessor };\n      if (!state.annotationAccessor[action.payload.annotation.cardReference]) {\n        annotationAccessor[action.payload.annotation.cardReference] = [action.payload.annotation];\n      } else\n        annotationAccessor[action.payload.annotation.cardReference] = [\n          ...annotationAccessor[action.payload.annotation.cardReference].filter(\n            annotation => annotation.uuid !== action.payload.annotation.uuid\n          ),\n          action.payload.annotation\n        ];\n\n      return {\n        ...state,\n        annotationAccessor\n      };\n    case AnnotationActionType.DeleteAnnotation:\n      annotationAccessor = { ...state.annotationAccessor };\n      Object.values(annotationAccessor).map(list =>\n        list.filter(annotation => annotation.uuid !== action.payload.uuid)\n      );\n\n      return {\n        ...state,\n        annotationAccessor\n      };\n\n    case UserActionType.GetUser:\n      return {\n        ...state,\n        user: action.payload.user\n      };\n\n    case UserActionType.SetCurrentUser:\n      return {\n        ...state,\n        currentUser: action.payload.user\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cardReducer;\n","import { CardMainType, ColorType } from '../../interfaces/enums';\n\nconst cardToColor = (\n  cardMainType: CardMainType,\n  manaCost?: string\n): { color: ColorType; allColors: ColorType[] } => {\n  let color: ColorType = ColorType.Colorless;\n  const allColors: ColorType[] = [];\n  if (cardMainType === CardMainType.Land) {\n    color = ColorType.Land;\n  } else {\n    if (!manaCost) return { color: ColorType.Colorless, allColors: [ColorType.Colorless] };\n\n    const setColor = (type: ColorType) => {\n      if (color === type) return;\n      if (color === ColorType.Colorless) color = type;\n      else color = ColorType.Gold;\n\n      allColors.push(type);\n    };\n\n    const array = manaCost.split(/{(.)}|{(..)}/);\n    array.forEach((cost: string) => {\n      if (!cost || cost === '') return;\n      switch (cost) {\n        case 'w':\n        case 'W':\n        case 'wp':\n        case 'Wp':\n        case 'wP':\n        case 'WP':\n        case 'pw':\n        case 'pW':\n        case 'Pw':\n        case 'PW':\n          setColor(ColorType.White);\n          break;\n        case 'u':\n        case 'U':\n        case 'up':\n        case 'Up':\n        case 'uP':\n        case 'UP':\n        case 'pu':\n        case 'pU':\n        case 'Pu':\n        case 'PU':\n          setColor(ColorType.Blue);\n          break;\n        case 'b':\n        case 'B':\n        case 'bp':\n        case 'Bp':\n        case 'bP':\n        case 'BP':\n        case 'pb':\n        case 'pB':\n        case 'Pb':\n        case 'PB':\n          setColor(ColorType.Black);\n          break;\n        case 'r':\n        case 'R':\n        case 'rp':\n        case 'Rp':\n        case 'rP':\n        case 'RP':\n        case 'pr':\n        case 'pR':\n        case 'Pr':\n        case 'PR':\n          setColor(ColorType.Red);\n          break;\n        case 'g':\n        case 'G':\n        case 'gp':\n        case 'Gp':\n        case 'gP':\n        case 'GP':\n        case 'pg':\n        case 'pG':\n        case 'Pg':\n        case 'PG':\n          setColor(ColorType.Green);\n          break;\n        default:\n          // do nothing\n          break;\n      }\n    });\n  }\n\n  return { color, allColors };\n};\n\nexport default cardToColor;\n","import React, { useState } from 'react';\n\nimport styles from './ImageLoader.module.scss';\n\nconst ImageLoader = ({\n  src,\n  className,\n  alt,\n  id,\n  ...restProps\n}: {\n  src: string;\n  className?: string;\n  alt?: string;\n  id?: string;\n  restProps?: any;\n}) => {\n  const [loaded, setLoaded] = useState(false);\n\n  return (\n    <img\n      src={src}\n      className={`${className} ${loaded ? styles.imgLoaded : styles.imgLoading}`}\n      onLoad={() => setLoaded(true)}\n      alt={alt}\n      id={id}\n      {...restProps}\n    />\n  );\n};\n\nexport default ImageLoader;\n","import UserInterface from './UserInterface';\n\nexport const UNKNOWN_CREATOR: UserInterface = { name: 'Unkown', uuid: '-1' };\nexport const NEEDED_LIKES_TO_APPROVE = 4;","import React, { createContext, useReducer } from 'react';\nimport reducer, { Action } from './cardReducer';\nimport CardInterface from './interfaces/CardInterface';\nimport MechanicInterface from './interfaces/MechanicInterface';\nimport AnnotationAccessorInterface from './interfaces/AnnotationAccessorInterface';\nimport UserInterface from './interfaces/UserInterface';\nimport { UNKNOWN_CREATOR } from './interfaces/constants';\n\nexport type StoreType = {\n  cards: CardInterface[];\n  newUuid?: string;\n  mechanics: MechanicInterface[];\n  annotationAccessor: AnnotationAccessorInterface;\n  user: UserInterface[];\n  currentUser: UserInterface;\n  dispatch: (value: Action) => void;\n};\n\nconst initialState = {\n  cards: [],\n  newUuid: undefined,\n  mechanics: [],\n  annotationAccessor: {},\n  user: [],\n  currentUser: UNKNOWN_CREATOR\n};\n\nconst initialStore = {\n  ...initialState,\n  dispatch: () => {}\n};\n\nexport const Store = createContext<StoreType>(initialStore);\n\nexport function StoreProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const value: StoreType = { ...initialStore, ...state, dispatch };\n\n  return <Store.Provider value={value}>{children}</Store.Provider>;\n}\n","import React, { useContext } from 'react';\n\nimport 'mana-font/css/mana.css';\n\nimport './css/reset.css';\n\nimport './css/background.css';\nimport './css/borders.scss';\nimport './css/icons.css';\nimport './css/card.css';\n\nimport { CardMainType, RarityType } from '../../interfaces/enums';\n\nimport CommonIcon from './images/rarity/common.png';\nimport UncommonIcon from './images/rarity/uncommon.png';\nimport RareIcon from './images/rarity/rare.png';\nimport MythicRareIcon from './images/rarity/mythic.png';\n\nimport NoCover from './images/no-cover.jpg';\n\nimport {\n  injectManaIcons,\n  injectMechanics,\n  injectName,\n  injectPlaneswalkerIcons,\n  injectQuotationMarks\n} from './injectUtils';\nimport cardToColor from './cardToColor';\nimport ImageLoader from '../ImageLoader/ImageLoader';\nimport { Store, StoreType } from '../../store';\nimport { UNKNOWN_CREATOR } from '../../interfaces/constants';\n\ninterface CardRender {\n  name: string;\n  rarity: RarityType;\n  creator?: string;\n  cardID: string;\n  manaCost: string;\n  legendary?: boolean;\n  cardMainType: CardMainType;\n  cardSubTypes?: string;\n  cardText: string[];\n  cardStats?: string;\n  flavourText?: string;\n  flavourAuthor?: string;\n  cover?: string;\n  backFace?: boolean;\n  collectionNumber: number;\n  collectionSize: number;\n  containerWidth?: number;\n  smallText?: boolean;\n}\n\nconst CardRender = (cardRender: CardRender) => {\n  const { legendary, cardMainType, cardSubTypes, rarity } = cardRender;\n  const { name, manaCost, cardStats, cover, creator } = cardRender;\n  const { cardText, flavourText, flavourAuthor, cardID } = cardRender;\n  const { backFace, collectionNumber, collectionSize } = cardRender;\n  const { containerWidth = 488, smallText } = cardRender;\n\n  const { mechanics } = useContext<StoreType>(Store);\n\n  const getRarityIcon = () => {\n    if (rarity === RarityType.MythicRare) return MythicRareIcon;\n    if (rarity === RarityType.Rare) return RareIcon;\n    if (rarity === RarityType.Uncommon) return UncommonIcon;\n    return CommonIcon;\n  };\n\n  const { color, allColors } = cardToColor(cardMainType, manaCost);\n\n  let cssColorName: string = color;\n  if (cardMainType === CardMainType.Planeswalker) {\n    if (allColors.length === 1) cssColorName = `${color}-${color}`;\n    if (allColors.length === 2) cssColorName = `${allColors[0]}-${allColors[1]}`;\n    if (allColors.length > 2) cssColorName = `gold-gold`;\n  }\n\n  const rarityCode = () => {\n    if (rarity === RarityType.Uncommon) return 'U';\n    if (rarity === RarityType.Rare) return 'R';\n    if (rarity === RarityType.MythicRare) return 'M';\n    return 'C';\n  };\n\n  const resizeFactor = (width: number) => {\n    return width / 488.0;\n  };\n\n  const getHeight = (width: number) => {\n    return resizeFactor(width) * 680;\n  };\n\n  return (\n    <div style={{ height: `${getHeight(containerWidth)}px` }}>\n      <div\n        id={`card-id-${cardID}`}\n        className=\"card-container\"\n        style={{\n          transform: `scale(${resizeFactor(containerWidth)})`,\n          transformOrigin: 'top left'\n        }}\n      >\n        {/* <LazyLoad debounce={false}> */}\n        <div>\n          <div className={`card-background card-background-${color}`} />\n          {/* <ImageLoader */}\n          {/*  className=\"card-background\" */}\n          {/*  src={colorToBackground()} */}\n          {/* /> */}\n          <div className=\"card-frame\">\n            <div\n              className={`frame-header-special-border frame-header-planeswalker-${cssColorName}`}\n            />\n            <div\n              className={`frame-header frame-header-${color} frame-header-planeswalker-${cssColorName}`}\n            >\n              <h1 className=\"name\">{injectQuotationMarks(name)}</h1>\n              {cardRender.cardMainType !== CardMainType.Land && !backFace && (\n                <div className=\"cost\">{injectManaIcons(manaCost, true)}</div>\n              )}\n            </div>\n\n            <ImageLoader\n              src={cover || NoCover}\n              alt=\"cover\"\n              className={`frame-art frame-art-${cssColorName}`}\n            />\n\n            <div\n              className={`frame-type-line frame-type-line-${color} frame-type-line-${cssColorName}`}\n            >\n              <h1 className=\"type\">\n                {legendary ? 'Legendary ' : ''}\n                {cardMainType}\n                {/* long dash:  or  */}\n                {cardSubTypes ? `  ${cardSubTypes}` : ''}\n              </h1>\n              <ImageLoader src={getRarityIcon()} id=\"set-icon\" alt=\"rarity-icon\" />\n            </div>\n\n            <div\n              className={`frame-text-box frame-text-box-${color} frame-text-box-${cssColorName} ${\n                smallText ? 'frame-text-small' : ''\n              }`}\n            >\n              <p className=\"description ftb-inner-margin\">\n                {cardText.map(val => (\n                  <span className=\"new-instruction\">\n                    {injectQuotationMarks(\n                      injectPlaneswalkerIcons(\n                        injectManaIcons(injectName(injectMechanics(val, mechanics, name), name))\n                      )\n                    )}\n                  </span>\n                ))}\n              </p>\n              <p className=\"flavour-text\">\n                {flavourText && (\n                  <span>\n                    {flavourAuthor\n                      ? `${injectName(flavourText, name)}`\n                      : injectName(flavourText, name)}\n                    {flavourAuthor ? (\n                      <span>\n                        <br />\n                        {` ${flavourAuthor}`}\n                      </span>\n                    ) : (\n                      ''\n                    )}\n                  </span>\n                )}\n              </p>\n            </div>\n\n            <div\n              className={`${\n                cardMainType === CardMainType.Creature ? 'frame-stats' : 'hidden'\n              } frame-stats-${color}`}\n            >\n              <div className={`frame-inner-stats frame-inner-stats-${color}`}>\n                <h1 className=\"stats\">{cardStats}</h1>\n              </div>\n            </div>\n\n            <div\n              className={`${\n                cardMainType === CardMainType.Planeswalker ? 'frame-loyalty' : 'hidden'\n              }`}\n            >\n              <div>\n                <h1 className=\"stats\">\n                  <i\n                    className={`ms ms-loyalty-${cardStats} ms-loyalty-start loyalty-outline-start`}\n                  />\n                  <i className={`ms ms-loyalty-${cardStats} ms-loyalty-start`} />\n                </h1>\n              </div>\n            </div>\n\n            <div className=\"frame-bottom-info inner-margin\">\n              <div className=\"fbi-left\">\n                <p>{`${collectionNumber}/${collectionSize} ${rarityCode()}`}</p>\n                <p>\n                  <span>EPIC &#x2022; EN</span>\n                  <img\n                    className=\"paintbrush\"\n                    src=\"https://image.ibb.co/e2VxAS/paintbrush_white.png\"\n                    alt=\"paintbrush icon\"\n                  />\n                  {creator || UNKNOWN_CREATOR.name}\n                </p>\n              </div>\n\n              <div className=\"fbi-center\" />\n\n              <div className=\"fbi-right\">\n                <br />\n                <p>&#x99; &amp; &#169; 2019 Wizards of the Coast</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const NonMemoCardRender = CardRender;\n\nexport default React.memo(CardRender);\n","import React from 'react';\nimport styles from './index.module.scss';\n\nconst GlowingStar = () => <div className={styles.glowingStar} />;\nexport default GlowingStar;\n","import { Button, Spin } from 'antd';\nimport React from 'react';\nimport { areEqual } from 'react-window';\nimport styles from './styles.module.scss';\nimport ActionHover from '../ActionHover/ActionHover';\nimport CardRender from '../CardRender/CardRender';\nimport GlowingStar from '../GlowingStar';\nimport CardInterface from '../../interfaces/CardInterface';\nimport CardFaceInterface from '../../interfaces/CardFaceInterface';\n\ninterface CellDataProps {\n  columnCount: number;\n  cards: CardInterface[];\n  seenCardUuids: { [key: string]: boolean };\n  currentEditId: string;\n  addSeenCard: (uuid: string) => void;\n  editCard: (uuid: string) => void;\n  downloadCard: (uuid: string) => void;\n  toggleShowBackConfig: (uuid: string) => void;\n  width: number;\n  showBackFaceConfig: { [key: string]: boolean };\n  mobile?: boolean;\n}\n\ninterface CellProps {\n  style: object;\n  columnIndex: number;\n  rowIndex: number;\n  data: CellDataProps;\n}\n\nconst Cell = ({ style, columnIndex, rowIndex, data }: CellProps) => {\n  const {\n    cards,\n    columnCount,\n    seenCardUuids,\n    currentEditId,\n    addSeenCard,\n    downloadCard,\n    editCard,\n    toggleShowBackConfig,\n    width,\n    showBackFaceConfig,\n    mobile\n  } = data;\n\n  const index = columnIndex + rowIndex * columnCount;\n  if (index >= cards.length) return <div />;\n  const card = cards[index];\n\n  const isNew = !seenCardUuids[card.uuid];\n\n  const getCardFace = (c: CardInterface): CardFaceInterface => {\n    if (!c.back || !showBackFaceConfig[c.uuid]) return c.front;\n    return { ...c.back, backFace: true };\n  };\n\n  return (\n    <div className={styles.cardBox} key={card.uuid} style={style}>\n      {isNew && <GlowingStar />}\n      <Spin size=\"large\" spinning={!!card.loading}>\n        <ActionHover\n          onHover={() => {\n            if (isNew) addSeenCard(card.uuid);\n            if (mobile) editCard(card.uuid);\n          }}\n          active={card.uuid === currentEditId}\n          northAction={\n            mobile\n              ? undefined\n              : {\n                  icon: 'edit',\n                  action: () => editCard(card.uuid)\n                }\n          }\n          southAction={\n            mobile\n              ? undefined\n              : {\n                  icon: 'download',\n                  action: () => downloadCard(card.uuid)\n                }\n          }\n        >\n          <CardRender\n            containerWidth={width}\n            {...getCardFace(card)}\n            cardID={card.uuid}\n            rarity={card.rarity}\n            manaCost={card.manaCost}\n            creator={card.creator.name}\n            collectionNumber={index + 1}\n            collectionSize={cards.length}\n            smallText\n          />\n        </ActionHover>\n      </Spin>\n      {card.back && (\n        <Button\n          icon=\"swap\"\n          className={styles.swapButton}\n          onClick={() => toggleShowBackConfig(card.uuid)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Cell, areEqual);\n","import React, { useState } from 'react';\n\nimport { FixedSizeGrid as Grid } from 'react-window';\n\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport CardInterface from '../../interfaces/CardInterface';\nimport Cell from './Cell';\n\nimport styles from './styles.module.scss';\n\nexport interface CardCollectionInterface {\n  cards?: CardInterface[];\n  editCard: (id: string) => void;\n  downloadImage?: (id: string) => void;\n  downloadJson?: (id: string) => void;\n  currentEditId: string;\n  colSpanSetting?: number;\n  seenCardUuids: { [key: string]: boolean };\n  addSeenCard: (uuid: string) => void;\n  mobile?: boolean;\n}\n\nconst CardCollection = ({\n  cards = [],\n  editCard,\n  downloadJson = () => {},\n  currentEditId,\n  colSpanSetting = 4,\n  seenCardUuids,\n  addSeenCard,\n  mobile\n}: CardCollectionInterface) => {\n  const [showBackFaceConfig, setShowBackFaceConfig] = useState<{ [key: string]: boolean }>({});\n\n  const toggleShowBackConfig = (id: string) => {\n    const newConfig = { ...showBackFaceConfig };\n    newConfig[id] = !newConfig[id];\n    setShowBackFaceConfig(newConfig);\n  };\n\n  return (\n    <AutoSizer>\n      {({ height, width }) => {\n        let columns = 6;\n        if (colSpanSetting === -1) {\n          if (width < 1700) columns = 5;\n          if (width < 1500) columns = 4;\n          if (width < 1100) columns = 3;\n          if (width < 800) columns = 2;\n        } else {\n          columns = colSpanSetting;\n        }\n\n        if (mobile) {\n          if (width > height) columns = 3;\n          else columns = 2;\n        }\n\n        const columnWidth: number = width / columns;\n        const columnHeight: number = (columnWidth / 488) * 680;\n        const rows: number = Math.ceil(cards.length / columns);\n\n        const data = {\n          cards,\n          columnCount: columns,\n          seenCardUuids,\n          currentEditId,\n          addSeenCard,\n          downloadCard: downloadJson,\n          toggleShowBackConfig,\n          editCard,\n          width: columnWidth - 4,\n          showBackFaceConfig,\n          mobile\n        };\n\n        return (\n          <Grid\n            className={styles.collection}\n            columnWidth={columnWidth}\n            rowHeight={columnHeight}\n            columnCount={columns}\n            rowCount={rows}\n            height={height}\n            width={width + 22}\n            itemData={data}\n          >\n            {Cell}\n          </Grid>\n        );\n      }}\n    </AutoSizer>\n  );\n};\n\nexport default CardCollection;\n","import { Button, Checkbox, Icon, Input, List, Select } from 'antd';\nimport React from 'react';\nimport _ from 'lodash';\nimport styles from './styles.module.scss';\n\nconst { TextArea } = Input;\n\ninterface EditFieldInterface {\n  fieldKey: string;\n  type: string;\n  name: string;\n  data?: { key: string; value: string }[];\n  getValue: (key: string) => any;\n  saveValue: (key: string, value: any) => void;\n}\n\nconst EditField = (props: EditFieldInterface) => {\n  const { type, fieldKey, name, data, getValue, saveValue } = props;\n\n  if (type === 'input') {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <Input\n          size=\"small\"\n          value={getValue(fieldKey)}\n          onChange={e => saveValue(fieldKey, e.target.value)}\n        />\n      </span>\n    );\n  }\n\n  if (type === 'split-input') {\n    const splitArray = getValue(fieldKey) ? getValue(fieldKey).split('/') : ['', ''];\n    if (splitArray.length < 2) splitArray.push('');\n\n    return (\n      <span>\n        <div className={styles.splitInput}>\n          <p className={styles.label}>{name.split('/')[0]}</p>\n          <Input\n            size=\"small\"\n            value={splitArray[0]}\n            onChange={e => saveValue(fieldKey, `${e.target.value}/${splitArray[1]}`)}\n          />\n        </div>\n        <div className={styles.splitInput}>\n          <p className={styles.label}>{name.split('/')[1]}</p>\n          <Input\n            size=\"small\"\n            value={splitArray[1]}\n            onChange={e => saveValue(fieldKey, `${splitArray[0]}/${e.target.value}`)}\n          />\n        </div>\n      </span>\n    );\n  }\n\n  if (type === 'area') {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <TextArea\n          value={getValue(fieldKey)}\n          onChange={e => saveValue(fieldKey, e.target.value)}\n          autosize\n        />\n      </span>\n    );\n  }\n\n  if (type === 'bool') {\n    return (\n      <div>\n        <div className={styles.label}>\n          <Checkbox\n            checked={getValue(fieldKey)}\n            onChange={e => saveValue(fieldKey, e.target.checked)}\n          >\n            {name}\n          </Checkbox>\n        </div>\n      </div>\n    );\n  }\n\n  if (type === 'select' && data) {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <Select\n          size=\"small\"\n          value={getValue(fieldKey)}\n          onChange={(key: string) => saveValue(fieldKey, key)}\n          style={{ width: '100%' }}\n        >\n          {data.map(d => (\n            <Select.Option key={`${fieldKey} + ${d.key}`} value={d.key}>\n              {d.value}\n            </Select.Option>\n          ))}\n        </Select>\n      </span>\n    );\n  }\n\n  if (type === 'list') {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <List\n          size=\"small\"\n          bordered\n          dataSource={getValue(fieldKey)}\n          renderItem={(item: string, i) => (\n            <List.Item\n              className={styles.listItem}\n              actions={[\n                <Icon\n                  type=\"close-circle\"\n                  theme=\"twoTone\"\n                  twoToneColor=\"#FF0000\"\n                  onClick={() => {\n                    const list = getValue(fieldKey);\n                    list.splice(i, 1);\n                    saveValue(fieldKey, list);\n                  }}\n                />\n              ]}\n            >\n              <TextArea\n                value={item}\n                onChange={e => {\n                  const list = getValue(fieldKey);\n                  list[i] = e.target.value;\n                  saveValue(fieldKey, list);\n                }}\n                autosize\n              />\n            </List.Item>\n          )}\n          footer={\n            <div className={styles.centerParent}>\n              <Button\n                size=\"small\"\n                onClick={() => {\n                  const list = getValue(fieldKey);\n                  list.push('');\n                  saveValue(fieldKey, list);\n                }}\n              >\n                Add Instruction\n              </Button>\n            </div>\n          }\n        />\n      </span>\n    );\n  }\n\n  return <div />;\n};\n\nexport default EditField;\n","import React from 'react';\nimport { Popover, Icon, Table } from 'antd';\n// @ts-ignore\nimport { Mana } from '@saeris/react-mana';\n\ninterface EditorTooltip {\n  className: string;\n}\n\nconst columns = [\n  {\n    title: 'Code',\n    dataIndex: 'code',\n    key: 'code'\n  },\n  {\n    title: 'Icon',\n    dataIndex: 'icon',\n    key: 'icon'\n  }\n];\n\nconst dataSource: { key: number; code: string; icon: JSX.Element }[] = [];\n\nconst addToDataSource = (code: string, icon: JSX.Element) => {\n  dataSource.push({ key: dataSource.length + 1, code, icon });\n};\n\naddToDataSource('~', <span>Card Name</span>);\naddToDataSource(\n  '{w}{u}{b}{r}{g}{c}',\n  <span>\n    <Mana symbol=\"w\" shadow />\n    <Mana symbol=\"u\" shadow />\n    <Mana symbol=\"b\" shadow />\n    <Mana symbol=\"r\" shadow />\n    <Mana symbol=\"g\" shadow />\n    <Mana symbol=\"c\" shadow />\n  </span>\n);\naddToDataSource(\n  '{0} - {20}',\n  <span>\n    <Mana symbol=\"0\" shadow />  <Mana symbol=\"20\" shadow />\n  </span>\n);\naddToDataSource(\n  '{t}{ut}',\n  <span>\n    <Mana symbol=\"tap\" shadow />\n    <Mana symbol=\"untap\" shadow />\n  </span>\n);\naddToDataSource(\n  '{wp}{up}{bp}{rp}{gp}{p}',\n  <span>\n    <Mana symbol=\"wp\" shadow />\n    <Mana symbol=\"up\" shadow />\n    <Mana symbol=\"bp\" shadow />\n    <Mana symbol=\"rp\" shadow />\n    <Mana symbol=\"gp\" shadow />\n    <Mana symbol=\"p\" shadow />\n  </span>\n);\naddToDataSource(\n  '{x}{y}{z}',\n  <span>\n    <Mana symbol=\"x\" shadow />\n    <Mana symbol=\"y\" shadow />\n    <Mana symbol=\"z\" shadow />\n  </span>\n);\naddToDataSource(\n  '{2w}{2u}{2b}{2r}{2g}',\n  <span>\n    <Mana symbol=\"2w\" shadow />\n    <Mana symbol=\"2u\" shadow />\n    <Mana symbol=\"2b\" shadow />\n    <Mana symbol=\"2r\" shadow />\n    <Mana symbol=\"2g\" shadow />\n  </span>\n);\naddToDataSource(\n  '{wu}{wb}{ub}{ur}{br}',\n  <span>\n    <Mana symbol=\"wu\" shadow />\n    <Mana symbol=\"wb\" shadow />\n    <Mana symbol=\"ub\" shadow />\n    <Mana symbol=\"ur\" shadow />\n    <Mana symbol=\"br\" shadow />\n  </span>\n);\naddToDataSource(\n  '{bg}{rg}{rw}{gw}{gu}',\n  <span>\n    <Mana symbol=\"bg\" shadow />\n    <Mana symbol=\"rg\" shadow />\n    <Mana symbol=\"rw\" shadow />\n    <Mana symbol=\"gw\" shadow />\n    <Mana symbol=\"gu\" shadow />\n  </span>\n);\naddToDataSource(\n  '{loy+5}{loy-5}{loy0}{loy5}',\n  <span>\n    <Mana symbol=\"loyalty-up\" shadow loyalty={5} />\n    <Mana symbol=\"loyalty-down\" shadow loyalty={5} />\n    <Mana symbol=\"loyalty-zero\" shadow loyalty={0} />\n    <Mana symbol=\"loyalty-start\" shadow loyalty={5} />\n  </span>\n);\naddToDataSource(\n  '{loy+x}{loy-x}{loyx}',\n  <span>\n    <Mana symbol=\"loyalty-up\" shadow loyalty=\"X\" />\n    <Mana symbol=\"loyalty-down\" shadow loyalty=\"X\" />\n    <Mana symbol=\"loyalty-start\" shadow loyalty=\"X\" />\n  </span>\n);\n\nconst content = (\n  <Table\n    dataSource={dataSource}\n    columns={columns}\n    size=\"small\"\n    showHeader={false}\n    pagination={false}\n    bordered={true}\n  />\n);\n\nconst EditorTooltip: React.FC<EditorTooltip> = props => (\n  <Popover {...props} content={content} placement=\"bottom\" title=\"Icon Codes\">\n    <Icon type=\"question-circle\" />\n  </Popover>\n);\n\nexport default EditorTooltip;\n","// @ts-ignore\nimport assert from 'assert-plus';\nimport axios from 'axios';\n\n/**\n * The authorization token with which calls to the API are made.\n * @type {String}\n */\nlet _token = '';\n\nconst API_VERSION = '2/';\n\nconst AUTHORIZE_ENDPOINT = 'https://www.dropbox.com/oauth2/authorize';\nconst CONTENT_ENDPOINT = 'https://content.dropboxapi.com/';\nconst RPC_ENDPOINT = 'https://api.dropboxapi.com/';\n\n/**\n * Regex for testing the format of an apiMethod.\n * @type {RegExp}\n */\nconst apiMethodRegex = /^([a-z_2]+\\/)*[a-z_2]+$/;\n\n/**\n * Authorize via OAuth 2.0 for Dropbox API calls.\n *\n * @parameter {string} clientId your app's key\n * @parameter {string} redirectUri the uri where the user should be redirected\n * to, after authorization has completed\n * @return {function} a promise that resolves or fails both with the returned\n * HTTP status code\n */\nconst authorize = (clientId: string, redirectUri = '') => {\n  // eslint-disable-next-line no-undef\n  return new Promise((resolve, reject) => {\n    reject('Not implemented yet, please obtain a token manually and store it via setToken');\n  });\n};\n\n/**\n * Set the token that is used for all Dropbox API calls to the given value.\n * If you set this value, you can omit the `token` parameter in all the calls\n * to this library.\n * @param  {string} token The new token value.\n */\nconst setToken = (token: string) => {\n  _token = token;\n};\n\n/**\n * Generic function for loading content from the Dropbox given an endpoint-method\n * combination. If no wrapper function for the method you need exists, feel free\n * to use this for your GET calls to the Dropbox API.\n *\n * See https://www.dropbox.com/developers/documentation/http/documentation for\n * the documentation of the Dropbox HTTP API.\n *\n * @param  {string} apiMethod the method to call\n * @param  {object} apiArgs an object that is passed as the Dropbox-API-Arg header\n * @param  {string?} endpoint the URL endpoint to use; defaults to\n * https://content.dropboxapi.com as this is used for all file operations,\n * which are most frequently used when operating on a dropbox\n * @param  {string?} token your Dropbox API token\n * (defaults to the value set via setToken`)\n * @return {function} a promise that, depending on if your call was successfull,\n * either resolves or rejects with the answer from the Dropbox HTTP Api. You\n * probably want to access some data that is returned by the call; this can be\n * achieved by calling `text()` on the result returned by the promise.\n */\nconst get = (apiMethod: string, apiArgs: object, endpoint = CONTENT_ENDPOINT, token = _token) => {\n  assert.string(apiMethod, `invalid argument ${apiMethod} (expected: string)`);\n  assert.ok(apiMethodRegex.test(apiMethod), `apiMethod has an unexpected format: ${apiMethod}`);\n  assert.object(apiArgs, `invalid argument ${apiArgs} (expected: object)`);\n  assert.string(endpoint, `invalid argument ${endpoint} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return axios.get(endpoint + API_VERSION + apiMethod, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Dropbox-API-Arg': JSON.stringify(apiArgs)\n    }\n  });\n};\n\n/**\n * Generic function for posting some content to a given endpoint using a certain\n * API method. If no wrapper function for the method you need exists, feel free\n * to use this for your POST calls to the Dropbox API.\n *\n * See https://www.dropbox.com/developers/documentation/http/documentation for\n * the documentation of the Dropbox HTTP API.\n *\n * @param  {string} apiMethod the method to call\n * @param  {object} apiArgs an object that is passed as the Dropbox-API-Arg header\n * @param  {any} content the content to upload\n * @param  {string=} endpoint the URL endpoint to use; defaults to\n * https://content.dropboxapi.com as this is used for all file operations,\n * which are most frequently used when operating on a dropbox\n * @param  {string=} token your Dropbox API token\n * (defaults to the value set via setToken`)\n * @return {function} a promise that, depending on if your call was successfull,\n * either resolves or rejects with the answer from the Dropbox HTTP Api\n */\nconst post = (\n  apiMethod: string,\n  apiArgs: object,\n  content: any,\n  endpoint = CONTENT_ENDPOINT,\n  token = _token\n) => {\n  assert.string(apiMethod, `invalid argument ${apiMethod} (expected: string)`);\n  assert.ok(apiMethodRegex.test(apiMethod), `apiMethod has an unexpected format: ${apiMethod}`);\n  assert.object(apiArgs, `invalid argument ${apiArgs} (expected: object)`);\n  // no assertion for content - can be anything\n  assert.string(endpoint, `invalid argument ${endpoint} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return axios.post(endpoint + API_VERSION + apiMethod, content, {\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      Authorization: `Bearer ${token}`,\n      'Dropbox-API-Arg': JSON.stringify(apiArgs)\n    }\n  });\n};\n\n/**\n * Upload the given file to the dropbox.\n * @param  {object} file an object describing the file, consisting of:\n *  - {string} path the path in the dropbox where the file should\n * be uploaded to, with a leading slash. Use forward slashes.\n *  - {string} mode what to do when the file already exists ('add', 'overwrite' or 'update')\n *  - {boolean} autorename\n *  - {boolean} mute\n * @param  {string} content the content  that should be written to the file\n * described in the apiArgs parameter\n * @param  {string=} token the OAuth 2 token that is used to access your app;\n * can be omitted (in this case, the token that is set via `setToken` is used)\n * @return {function} a promise that resolves when the upload is complete or\n * fails with an error message\n */\nconst upload = (\n  {\n    path,\n    mode = 'add',\n    autorename = true,\n    mute = false\n  }: { path: string; mode?: string | object; autorename?: boolean; mute?: boolean },\n  content: any,\n  token = _token\n) => {\n  assert.string(path);\n  // assert.object(mode);\n  assert.bool(autorename);\n  assert.bool(mute);\n\n  if (!path.startsWith('/')) {\n    path = `/${path}`;\n  }\n\n  return post('files/upload', { path, mode, autorename, mute }, content, CONTENT_ENDPOINT, token);\n};\n\n/**\n * Download the file specified by a path from the user's Dropbox.\n * @param {string} path the path of the file to download\n * @param {string=} token the OAuth 2 token that is used to access your app;\n * can be omitted (in this case, the token that is set via `setToken` is used)\n * @return {function} a promise that resolves when the upload is complete or\n * fails with an error message\n */\nconst download = (path: string, token = _token) => {\n  assert.string(path, `invalid argument ${path} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return get('files/download', { path }, CONTENT_ENDPOINT, token);\n};\n\nconst zip = (path: string, token = _token) => {\n  assert.string(path, `invalid argument ${path} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return get('files/download_zip', { path }, CONTENT_ENDPOINT, token);\n};\n\n/**\n * Get the metadata of the specified file. Useful for testing whether a file\n * exists or how big the download would be.\n * @param  {string} path the path of the file. Can also be an id (prepend the\n * id with 'id:') or a revision (prepend with 'rev:').\n * @param  {boolean=false} includeMediaInfo obtain additional info for photos or\n * videos\n * @param  {boolean=false} includeDeleted get metadata even if the file was\n * deleted\n * @param  {boolean=false} includeHasExplicitSharedMembers include a flag that\n * indicates whether a file has any explicitly shared members\n * @param  {string=} token the OAuth 2 token that is used to access your app;\n * can be omitted (in this case, the token that is set via `setToken` is used)\n * @return {function} a promise that resolves when the metadata is received or\n * fails with an error message\n * The output can be obtained by calling text() on the returned promise.\n */\nconst getMetadata = (\n  path: string,\n  includeMediaInfo = false,\n  includeDeleted = false,\n  includeHasExplicitSharedMembers = false,\n  token = _token\n) => {\n  assert.string(path);\n  assert.bool(includeMediaInfo);\n  assert.bool(includeDeleted);\n  assert.bool(includeHasExplicitSharedMembers);\n  assert.string(token);\n\n  return fetch(`${RPC_ENDPOINT + API_VERSION}files/get_metadata`, {\n    method: 'POST',\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      path,\n      // eslint-disable-next-line @typescript-eslint/camelcase,@typescript-eslint/camelcase\n      include_media_info: includeMediaInfo,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      include_deleted: includeDeleted,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      include_has_explicit_shared_members: includeHasExplicitSharedMembers\n    })\n  });\n};\n\n// eslint-disable-next-line no-undef\nexport default {\n  AUTHORIZE_ENDPOINT,\n  CONTENT_ENDPOINT,\n  RPC_ENDPOINT,\n  authorize,\n  download,\n  zip,\n  get,\n  getMetadata,\n  post,\n  setToken,\n  upload\n};\n","import dropboxAccess from './dropbox-fetch-axios';\n\nconst LOCALSTORAGE_KEY = 'api_key';\n\ndropboxAccess.setToken(localStorage.getItem(LOCALSTORAGE_KEY) || '');\n\nexport const updateAccessToken = (token: string) => {\n  localStorage.setItem(LOCALSTORAGE_KEY, token);\n  dropboxAccess.setToken(token);\n};\n\nexport const deleteAccessToken = () => {\n  localStorage.setItem(LOCALSTORAGE_KEY, '');\n  dropboxAccess.setToken('');\n};\n\nexport const getAccessToken = () => {\n  return localStorage.getItem(LOCALSTORAGE_KEY) || '';\n};\n\nexport const hasAccessToken = (): boolean => {\n  return !!localStorage.getItem(LOCALSTORAGE_KEY);\n};\n\nexport const getDropboxInstance = () => {\n  dropboxAccess.setToken(localStorage.getItem(LOCALSTORAGE_KEY) || '');\n  return dropboxAccess;\n};\n","import LogRocket from 'logrocket';\n\nexport enum ActionTag {\n  Card = 'Card',\n  Annotation = 'Annotation',\n  Mechanic = 'Mechanic',\n  User = 'User'\n}\n\nexport enum RequestTag {\n  Get = 'Get',\n  Create = 'Post',\n  Update = 'Put',\n  Delete = 'Delete'\n}\n\nexport const captureError = (\n  message: Error,\n  action: ActionTag,\n  request: RequestTag,\n  additional: { [key: string]: string | number | boolean }\n) => {\n  LogRocket.captureException(message, {\n    tags: {\n      // additional data to be grouped as \"tags\"\n      action,\n      request\n    },\n    extra: {\n      ...additional\n    }\n  });\n};\n","import uuidv4 from 'uuid/v4';\nimport axios from 'axios';\n\nimport { message } from 'antd';\nimport moment from 'moment';\nimport LogRocket from 'logrocket';\nimport { Action, CardActionType } from '../cardReducer';\nimport { CardMainType, CardState, RarityType } from '../interfaces/enums';\n\nimport CardInterface from '../interfaces/CardInterface';\nimport { getAccessToken, deleteAccessToken } from '../utils/accessService';\nimport { UNKNOWN_CREATOR } from '../interfaces/constants';\nimport UserInterface from '../interfaces/UserInterface';\nimport { captureError, ActionTag, RequestTag } from './errorLog';\n\nconst MIDDLEWARE_ENDPOINT = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:3001';\n\nexport const EMPTY_CARD = (): CardInterface => ({\n  name: '',\n  uuid: uuidv4(),\n  front: {\n    name: '',\n    cardMainType: CardMainType.Creature,\n    cardText: []\n  },\n  manaCost: '',\n  rarity: RarityType.Common,\n  creator: UNKNOWN_CREATOR,\n  meta: {\n    comment: '',\n    likes: [],\n    dislikes: [],\n    lastUpdated: moment().valueOf(),\n    createdAt: moment().valueOf(),\n    state: CardState.Draft\n  }\n});\n\nexport const refreshCollection = (dispatch: (value: Action) => void) => {\n  LogRocket.log('Try to get all cards');\n  dispatch({\n    type: CardActionType.RefreshCollection\n  });\n\n  const request = `${MIDDLEWARE_ENDPOINT}/cards`;\n  const args = { params: { accessKey: getAccessToken() } };\n  axios\n    .get(request, args)\n    .then(result => {\n      // result.data.cards.forEach((card: CardInterface) => {\n      //   if (!card.createdAt) {\n      //     card.createdAt = moment().valueOf();\n      //     updateCard(dispatch, card);\n      //   }\n      // });\n\n      dispatch({\n        type: CardActionType.BulkReadCard,\n        payload: { cards: result.data.cards }\n      });\n    })\n    .catch(error => {\n      if (error.response) {\n        const { response } = error;\n        if (response.status && response.status === 401) {\n          deleteAccessToken();\n          LogRocket.error('Wrong access token! You are not authorized to use this service :(');\n          message.error('Wrong access token! You are not authorized to use this service :(', 3);\n          return;\n        }\n      }\n\n      captureError(error, ActionTag.Card, RequestTag.Get, {});\n      message.error(\"Could'nt load collection. Maybe you access token is wrong.\");\n    });\n};\n\nexport const createCard = (dispatch: (value: Action) => void, creator: UserInterface) => {\n  LogRocket.log('Try to create a card', creator);\n  const request = `${MIDDLEWARE_ENDPOINT}/cards`;\n  const args = { accessKey: getAccessToken(), creator };\n\n  axios\n    .post(request, args)\n    .then(result => {\n      message.success('Successfully Created Card!');\n      return dispatch({\n        type: CardActionType.CreateCard,\n        payload: {\n          card: result.data.card\n        }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Card, RequestTag.Create, {});\n      message.error('Failed creating a new card :(');\n    });\n};\n\nexport const updateCard = (dispatch: (value: Action) => void, updated: CardInterface) => {\n  const { name, uuid } = updated;\n  LogRocket.log('Try to update a card', {\n    name,\n    uuid,\n    updated\n  });\n  const request = `${MIDDLEWARE_ENDPOINT}/cards`;\n  axios\n    .put(request, { card: updated, accessKey: getAccessToken() })\n    .then(result => {\n      message.success('Successfully Updated Card');\n      return dispatch({\n        type: CardActionType.UpdateCard,\n        payload: {\n          card: result.data.card\n        }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Card, RequestTag.Update, {});\n      message.error(\"Could'nt update the card\");\n    });\n};\n","import React, { useContext, useEffect, useState } from 'react';\n// import CardFaceInterface from '../../interfaces/CardFaceInterface';\nimport { Button, Row } from 'antd';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport CardInterface from '../../interfaces/CardInterface';\n\nimport styles from './styles.module.scss';\nimport { CardMainType, CardState, RarityType } from '../../interfaces/enums';\nimport EditField from './EditField';\n\nimport CardFaceInterface from '../../interfaces/CardFaceInterface';\nimport EditorTooltip from '../EditorTooltip/EditorTooltip';\nimport { updateCard } from '../../actions/cardActions';\nimport { Store, StoreType } from '../../store';\nimport { UNKNOWN_CREATOR } from '../../interfaces/constants';\n\ninterface CardEditorInterface {\n  card?: CardInterface;\n  saveTmpCard: (card: CardInterface | null) => void;\n}\n\nconst NO_CARD = '-1';\n\nconst dummyCard: CardInterface = {\n  name: '',\n  uuid: NO_CARD,\n  manaCost: '',\n  rarity: RarityType.Common,\n  front: {\n    name: '',\n    cardMainType: CardMainType.Creature,\n    cardText: []\n  },\n  creator: UNKNOWN_CREATOR,\n  meta: {\n    comment: '',\n    likes: [],\n    dislikes: [],\n    lastUpdated: moment().valueOf(),\n    createdAt: moment().valueOf(),\n    state: CardState.Draft\n  }\n};\n\nconst CardEditor: React.FC<CardEditorInterface> = ({\n  card = dummyCard,\n  saveTmpCard\n}: CardEditorInterface) => {\n  const [contentChanged, setContentChanged] = useState<boolean>(false);\n  const [originalCard, setOriginalCard] = useState<CardInterface>(_.cloneDeep(card));\n  const [tmpCard, setTmpCard] = useState<CardInterface>(_.cloneDeep(card));\n  const [timerId, setTimerId] = useState<any>(NO_CARD);\n\n  const [editBack, setEditBack] = useState<boolean>(false);\n\n  const { dispatch, user } = useContext<StoreType>(Store);\n\n  const getCurrentFace = (currentCard: CardInterface): CardFaceInterface => {\n    if (currentCard.back && editBack) return currentCard.back;\n    return currentCard.front;\n  };\n\n  const getValue = (key: string): any => {\n    if (key === 'creator') return tmpCard[key].uuid;\n    if (key === 'rarity' || key === 'manaCost') return tmpCard[key];\n    if (key === 'comment') return tmpCard.meta[key];\n    return getCurrentFace(tmpCard)[key];\n  };\n\n  const saveValue = (key: string, value: any) => {\n    const newTmpCard = { ...tmpCard };\n    if (key === 'name') {\n      getCurrentFace(newTmpCard)[key] = value;\n      if (newTmpCard.back) {\n        newTmpCard.name = `${newTmpCard.front.name} // ${newTmpCard.back.name}`;\n      } else {\n        newTmpCard.name = `${newTmpCard.front.name}`;\n      }\n    } else if (key === 'creator') {\n      newTmpCard[key] = _.find(user, o => o.uuid === value) || UNKNOWN_CREATOR;\n    } else if (key === 'rarity' || key === 'manaCost') {\n      newTmpCard[key] = value;\n    } else if (key === 'comment') {\n      newTmpCard.meta[key] = value;\n    } else {\n      getCurrentFace(newTmpCard)[key] = value;\n    }\n    setTmpCard(newTmpCard);\n\n    setContentChanged(true);\n\n    clearTimeout(timerId);\n    const tmpId = setTimeout(() => {\n      saveTmpCard(newTmpCard);\n    }, 300);\n    setTimerId(tmpId);\n  };\n\n  const discardChanges = () => {\n    if (!contentChanged) return;\n\n    setTmpCard(_.cloneDeep(originalCard));\n    saveTmpCard(null);\n    setContentChanged(false);\n  };\n\n  const saveChanges = () => {\n    if (!contentChanged) return;\n\n    setTmpCard(_.cloneDeep(tmpCard));\n    setOriginalCard(_.cloneDeep(tmpCard));\n    saveTmpCard(null);\n    updateCard(dispatch, _.cloneDeep(tmpCard));\n    setContentChanged(false);\n  };\n\n  useEffect(() => {\n    if (\n      _.isEqual(originalCard, tmpCard) &&\n      _.isEqual(originalCard.front, tmpCard.front) &&\n      _.isEqual(originalCard.back, tmpCard.back)\n    ) {\n      saveTmpCard(null);\n      setContentChanged(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tmpCard]);\n\n  useEffect(() => {\n    setEditBack(false);\n    setTmpCard(_.cloneDeep(card));\n    setOriginalCard(_.cloneDeep(card));\n    saveTmpCard(null);\n    setContentChanged(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [card.uuid]);\n\n  const isCreature = () => getValue('cardMainType') === CardMainType.Creature;\n  const isPlaneswalker = () => getValue('cardMainType') === CardMainType.Planeswalker;\n  const hasMana = () =>\n    getValue('cardMainType') !== CardMainType.Land &&\n    getValue('cardMainType') !== CardMainType.Emblem;\n\n  const hasStats = () => isCreature() || isPlaneswalker();\n\n  const inputConfig = [\n    { key: 'name', type: 'input', name: 'Card Name' },\n    { key: 'cover', type: 'input', name: 'Cover (URL)' },\n    { key: 'legendary', type: 'bool', name: 'Legendary?' },\n    { key: 'manaCost', type: 'input', name: 'Mana Cost', width: hasMana() ? 50 : 0 },\n    {\n      key: 'rarity',\n      type: 'select',\n      name: 'Rarity',\n      data: Object.keys(RarityType).map((type: any) => ({\n        key: RarityType[type],\n        value: RarityType[type]\n      })),\n      width: hasMana() ? 50 : 100\n    },\n    {\n      key: 'cardMainType',\n      type: 'select',\n      name: 'Card Type',\n      data: Object.keys(CardMainType).map((type: any) => ({\n        key: CardMainType[type],\n        value: CardMainType[type]\n      })),\n      width: 50\n    },\n    { key: 'cardSubTypes', type: 'input', name: 'Card Sub Types', width: 50 },\n    { key: 'cardText', type: 'list', name: 'Card Text' },\n    { key: 'flavourText', type: 'area', name: 'Flavour Text' },\n    { key: 'flavourAuthor', type: 'input', name: 'Flavour Text Author' },\n    {\n      key: 'cardStats',\n      type: isPlaneswalker() ? 'input' : 'split-input',\n      name: isPlaneswalker() ? 'Loyalty' : 'Power/Toughness',\n      width: hasStats() ? 50 : 0\n    },\n    {\n      key: 'creator',\n      type: 'select',\n      name: 'Card Creator',\n      data: user.map(o => ({ key: o.uuid, value: o.name })),\n      width: hasStats() ? 50 : 100\n    },\n    { key: 'comment', type: 'area', name: 'Comment' }\n  ];\n\n  if (card.uuid === NO_CARD)\n    return (\n      <div className={styles.noCard}>\n        <span>Hover over a card and click the edit icon to start the editor!</span>\n      </div>\n    );\n\n  const addBackFace = () => {\n    const newTmpCard = { ...tmpCard };\n    newTmpCard.back = {\n      name: '',\n      cardText: [],\n      cardMainType: CardMainType.Creature,\n      manaCost: ''\n    };\n\n    setTmpCard(newTmpCard);\n    saveTmpCard(newTmpCard);\n    setContentChanged(true);\n  };\n\n  const deleteBackFace = () => {\n    const newTmpCard = { ...tmpCard };\n    delete newTmpCard.back;\n    setTmpCard(newTmpCard);\n    saveTmpCard(newTmpCard);\n    setContentChanged(true);\n  };\n\n  return (\n    <div className={styles.editor}>\n      <Row>\n        <EditorTooltip className={styles.tooltip} />\n        <Button.Group className={styles.smallButtonGroup} size=\"small\">\n          {card.back && editBack && (\n            <Button type=\"ghost\" onClick={() => setEditBack(false)}>\n              <span>Edit Front Face</span>\n            </Button>\n          )}\n          {card.back && !editBack && (\n            <Button type=\"ghost\" onClick={() => setEditBack(true)}>\n              <span>Edit Back Face</span>\n            </Button>\n          )}\n          {card.back && (\n            <Button onClick={deleteBackFace} type=\"danger\">\n              <span>Delete Back Face</span>\n            </Button>\n          )}\n          {!card.back && <Button onClick={addBackFace}>Add Back Face</Button>}\n        </Button.Group>\n      </Row>\n      <Row>\n        {inputConfig.map(config => {\n          const style: any = {};\n          if (config.width === 0) style.display = 'none';\n          if (config.width) style.width = `${config.width}%`;\n          return (\n            <div\n              key={`card-editor-key:${config.key}`}\n              className={config.width ? styles.partialField : styles.fullField}\n              style={style}\n            >\n              <EditField\n                fieldKey={config.key}\n                type={config.type}\n                data={config.data}\n                name={config.name}\n                saveValue={saveValue}\n                getValue={getValue}\n              />\n            </div>\n          );\n        })}\n      </Row>\n      <Row>\n        <Button.Group className={styles.buttonGroup} size=\"small\">\n          <Button disabled={!contentChanged} onClick={saveChanges} type=\"primary\">\n            <span>Save Changes</span>\n          </Button>\n          <Button disabled={!contentChanged} onClick={discardChanges} type=\"danger\">\n            <span>Discard Changes</span>\n          </Button>\n        </Button.Group>\n      </Row>\n    </div>\n  );\n};\n\nexport default CardEditor;\n","import React, { useEffect, useState } from 'react';\nimport { Checkbox, Input, Row, Slider } from 'antd';\nimport { CardMainType, ColorType, mapEnum, RarityType } from '../../interfaces/enums';\n\nimport styles from './styles.module.scss';\nimport CardInterface from '../../interfaces/CardInterface';\nimport cardToColor from '../CardRender/cardToColor';\n\nexport interface CollectionFilterInterface {\n  colors: CheckBoxGroupInterface;\n  rarity: CheckBoxGroupInterface;\n  types: CheckBoxGroupInterface;\n}\n\ninterface CollectionFilterControlsInterface {\n  setCollectionColSpan?: (span: number) => void;\n  setCollectionFilter?: (filter: CollectionFilterInterface) => void;\n  collection: CardInterface[];\n  setNameFilter: (filter: string) => void;\n}\n\nexport interface CheckBoxGroupInterface {\n  [key: string]: boolean;\n}\n\ninterface CardCountStats {\n  [key: string]: number;\n}\n\nconst CollectionFilterControls = ({\n  setCollectionColSpan,\n  setCollectionFilter,\n  collection,\n  setNameFilter\n}: CollectionFilterControlsInterface) => {\n  const createEnumInitState = (values: string[]): CheckBoxGroupInterface => {\n    const group: CheckBoxGroupInterface = {};\n    values.forEach((value: string) => {\n      group[value] = true;\n    });\n    return group;\n  };\n\n  const [colSpanSetting, setColSpanSetting] = useState(-1);\n  const [shownCardTypes, setShownCardTypes] = useState<CheckBoxGroupInterface>(\n    createEnumInitState(Object.values(CardMainType))\n  );\n  const [shownColors, setShownColors] = useState<CheckBoxGroupInterface>(\n    createEnumInitState(Object.values(ColorType))\n  );\n  const [shownRarities, setShownRarities] = useState<CheckBoxGroupInterface>(\n    createEnumInitState(Object.values(RarityType))\n  );\n\n  const updateEnumState = (\n    key: string,\n    value: boolean,\n    data: CheckBoxGroupInterface,\n    fct: (values: CheckBoxGroupInterface) => void\n  ) => {\n    const newState = { ...data };\n    newState[key] = value;\n    fct(newState);\n  };\n\n  const updateColSpan = (nextColSpan: number | [number, number]) => {\n    let number = -1;\n    if (typeof nextColSpan === 'number') {\n      number = nextColSpan;\n    }\n\n    if (number === 0) number = -1;\n    setColSpanSetting(number);\n    setCollectionColSpan && setCollectionColSpan(number);\n  };\n\n  const cardCountStats: CardCountStats = {};\n  Object.values(CardMainType).forEach(key => {\n    cardCountStats[key] = 0;\n  });\n  Object.values(RarityType).forEach(key => {\n    cardCountStats[key] = 0;\n  });\n  Object.values(ColorType).forEach(key => {\n    cardCountStats[key] = 0;\n  });\n  collection.forEach(card => {\n    cardCountStats[cardToColor(card.front.cardMainType, card.manaCost).color] += 1;\n    cardCountStats[card.front.cardMainType] += 1;\n    cardCountStats[card.rarity] += 1;\n  });\n\n  useEffect(() => {\n    setCollectionFilter &&\n      setCollectionFilter({\n        colors: shownColors,\n        rarity: shownRarities,\n        types: shownCardTypes\n      });\n  }, [shownColors, shownRarities, shownCardTypes, setCollectionFilter]);\n\n  const spanMarks = {\n    0: 'Auto',\n    1: '1',\n    2: '2',\n    3: '3',\n    4: '4',\n    5: '5',\n    6: '6',\n    7: '7',\n    8: '8'\n  };\n\n  return (\n    <div className={styles.controls}>\n      <Row>\n        <div className={styles.controlItem}>\n          <h4>Filter by name</h4>\n          <Input placeholder=\"Card Name\" allowClear onChange={e => setNameFilter(e.target.value)} />\n        </div>\n        {setCollectionColSpan && (\n          <div className={styles.controlItem}>\n            <h4>Cards per row</h4>\n            <Slider\n              defaultValue={0}\n              marks={spanMarks}\n              step={1}\n              included={false}\n              min={0}\n              max={8}\n              onAfterChange={value => updateColSpan(value)}\n            />\n          </div>\n        )}\n        {setCollectionFilter && (\n          <div>\n            <div className={styles.controlItem}>\n              <h4>Shown Card Types</h4>\n              {mapEnum(CardMainType, (key: string) => (\n                <Checkbox\n                  key={`collection-filter-controls-checkbox-cardmaintype-${key}`}\n                  checked={shownCardTypes[key]}\n                  disabled={cardCountStats[key] === 0}\n                  onChange={e =>\n                    updateEnumState(key, e.target.checked, shownCardTypes, setShownCardTypes)\n                  }\n                >\n                  {`${key} (${cardCountStats[key]})`}\n                </Checkbox>\n              ))}\n            </div>\n            <div className={styles.controlItem}>\n              <h4>Shown Colors</h4>\n              {Object.values(ColorType).map((key: string) => {\n                if (key === ColorType.Planeswalker) return '';\n                return (\n                  <Checkbox\n                    key={`collection-filter-controls-checkbox-color-${key}`}\n                    checked={shownColors[key]}\n                    disabled={cardCountStats[key] === 0}\n                    onChange={e =>\n                      updateEnumState(key, e.target.checked, shownColors, setShownColors)\n                    }\n                  >\n                    {`${key} (${cardCountStats[key]})`}\n                  </Checkbox>\n                );\n              })}\n            </div>\n            <div className={styles.controlItem}>\n              <h4>Shown Rarities</h4>\n              {mapEnum(RarityType, (key: string) => (\n                <Checkbox\n                  key={`collection-filter-controls-checkbox-rarity-${key}`}\n                  checked={shownRarities[key]}\n                  disabled={cardCountStats[key] === 0}\n                  onChange={e =>\n                    updateEnumState(key, e.target.checked, shownRarities, setShownRarities)\n                  }\n                >\n                  {`${key} (${cardCountStats[key]})`}\n                </Checkbox>\n              ))}\n            </div>\n            <span> </span>\n          </div>\n        )}\n      </Row>\n    </div>\n  );\n};\n\nexport default CollectionFilterControls;\n","import axios from 'axios';\n\nimport LogRocket from 'logrocket';\nimport { message } from 'antd';\nimport { Action, MechanicActionType } from '../cardReducer';\n\nimport { getAccessToken } from '../utils/accessService';\nimport MechanicInterface from '../interfaces/MechanicInterface';\nimport { captureError, ActionTag, RequestTag } from './errorLog';\n\nconst MIDDLEWARE_ENDPOINT = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:3001';\n\nexport const getMechanics = (dispatch: (value: Action) => void) => {\n  LogRocket.log('Try to get all mechanics');\n\n  const request = `${MIDDLEWARE_ENDPOINT}/mechanics`;\n  const args = { params: { accessKey: getAccessToken() } };\n  axios\n    .get(request, args)\n    .then(result => {\n      dispatch({\n        type: MechanicActionType.GetMechanics,\n        payload: { mechanics: result.data.mechanics }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Mechanic, RequestTag.Get, {});\n    });\n};\n\nexport const createMechanic = (dispatch: (value: Action) => void) => {\n  LogRocket.log('Try to create mechanic');\n\n  const request = `${MIDDLEWARE_ENDPOINT}/mechanics`;\n  const args = { accessKey: getAccessToken() };\n\n  axios\n    .post(request, args)\n    .then(result => {\n      message.success('Successfully Created Mechanic!');\n      return dispatch({\n        type: MechanicActionType.CreateMechanic,\n        payload: {\n          mechanic: result.data.mechanic\n        }\n      });\n    })\n    .catch(error => {\n      message.error('Failed creating a new mechanic :(');\n      captureError(error, ActionTag.Mechanic, RequestTag.Create, {});\n    });\n};\n\nexport const updateMechanic = (dispatch: (value: Action) => void, updated: MechanicInterface) => {\n  LogRocket.log('Try to update mechanic', updated);\n\n  const request = `${MIDDLEWARE_ENDPOINT}/mechanics`;\n  axios\n    .put(request, { mechanic: updated, accessKey: getAccessToken() })\n    .then(result => {\n      message.success('Successfully Updated Mechanic');\n      return dispatch({\n        type: MechanicActionType.UpdateMechanic,\n        payload: {\n          mechanic: result.data.mechanic\n        }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Mechanic, RequestTag.Update, {});\n      message.error(\"Could'nt update mechanic\");\n    });\n};\n","import React, { useContext } from 'react';\nimport { Button, Modal, List, Typography, Table } from 'antd';\n\nimport _ from 'lodash';\nimport { Store, StoreType } from '../../store';\nimport { createMechanic, updateMechanic } from '../../actions/mechanicActions';\nimport MechanicInterface from '../../interfaces/MechanicInterface';\n\nconst { Column } = Table;\nconst { Paragraph } = Typography;\n\ninterface RecordProps extends MechanicInterface {\n  key: string;\n}\n\nconst MechanicModal = ({\n  visible,\n  setVisible\n}: {\n  visible: boolean;\n  setVisible: (key: boolean) => void;\n}) => {\n  const { mechanics, dispatch } = useContext<StoreType>(Store);\n\n  const handleNameChange = (name: string, record: RecordProps) => {\n    const { key, ...rest } = record;\n    updateMechanic(dispatch, { ...rest, name });\n  };\n\n  const handleDescriptionChange = (description: string, record: RecordProps) => {\n    const { key, ...rest } = record;\n    updateMechanic(dispatch, { ...rest, description });\n  };\n\n  const sortedMechanics: RecordProps[] = _.sortBy(mechanics, [o => o.uuid]).map(mechanic => ({\n    ...mechanic,\n    key: mechanic.uuid\n  }));\n\n  return (\n    <Modal\n      width=\"90%\"\n      title=\"Edit Mechanics\"\n      visible={visible}\n      onOk={() => setVisible(false)}\n      onCancel={() => setVisible(false)}\n    >\n      <Table dataSource={sortedMechanics} pagination={false} useFixedHeader scroll={{ y: '55vh' }}>\n        <Column\n          title=\"Name\"\n          dataIndex=\"name\"\n          key=\"name\"\n          width=\"30%\"\n          render={(name: string, record: RecordProps) => (\n            <Paragraph editable={{ onChange: (value: string) => handleNameChange(value, record) }}>\n              {name}\n            </Paragraph>\n          )}\n        />\n        <Column\n          title=\"Description\"\n          dataIndex=\"description\"\n          key=\"description\"\n          width=\"70%\"\n          render={(description: string, record: RecordProps) => (\n            <Paragraph\n              editable={{ onChange: (value: string) => handleDescriptionChange(value, record) }}\n            >\n              {description}\n            </Paragraph>\n          )}\n        />\n      </Table>\n      <Button style={{ width: '100%' }} type=\"primary\" onClick={() => createMechanic(dispatch)}>\n        Add Mechanic\n      </Button>\n    </Modal>\n  );\n};\n\nexport default MechanicModal;\n","import { useState, useEffect } from 'react';\n\nconst useLocalStorage = (\n  localStorageKey: string,\n  defaultValue: string = '',\n  json: boolean = false\n) => {\n  const [value, setValue] = useState<string>(localStorage.getItem(localStorageKey) || defaultValue);\n\n  useEffect(() => {\n    localStorage.setItem(localStorageKey, value);\n  }, [localStorageKey, value]);\n\n  if (json) {\n    return [\n      JSON.parse(value),\n      (newValue: any) => {\n        setValue(JSON.stringify(newValue));\n      }\n    ];\n  }\n  return [value, setValue];\n};\n\nexport default useLocalStorage;\n","import React from 'react';\nimport { Typography } from 'antd';\nimport ChangeLogEntryInterface from '../../interfaces/ChangeLogEntryInterface';\nimport { ChangeLogFeatureType } from '../../interfaces/enums';\n\nconst { Text } = Typography;\n\nconst updateLog: ChangeLogEntryInterface[] = [];\n\nupdateLog.push({\n  version: '0.0.1',\n  title: 'New Usability Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature: 'You can now sort cards by color, creator, or the time the card was last updated.'\n    },\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        \"Cards now have an indicator that shows that someone else has added them and you haven't seen them yet. Hover over the card to hide indicator.\"\n    },\n    {\n      type: ChangeLogFeatureType.Removed,\n      feature:\n        'There is no longer a indicator (top-left) that shows how many cards are in the collection.'\n    }\n  ]\n});\n\nconst exampleMechanics = ['[Enrage] do Something', '[Shadow Clone {1}]', '[Surveil 1]'];\n\nupdateLog.push({\n  version: '0.1.0',\n  title: 'Card Mechanic Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        'You can now add mechanics. At the bottom left is a button that opens the mechanic edit dialog. Mechanics are predefined effects that you only have to write once, but can use them on many cards. A Mechanic has a name and a description. You can render it on a card by putting the name in square brackets.'\n    },\n    {\n      type: ChangeLogFeatureType.None,\n      feature: (\n        <div>\n          <Text>Examples:</Text>\n          {exampleMechanics.map(m => (\n            <Text code>{m}</Text>\n          ))}\n        </div>\n      )\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '0.2.1',\n  title: 'UI Nitpicks: So much wow!',\n  content: [\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature:\n        'Card Text now has a smaller font size only in collection view to support cards with long text.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'New Change Log UI.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'New Color Theme.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'More intuitive card hover.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'Compact Card Editor: Only fields that are needed are shown.'\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '1.0.0',\n  title: 'New Major Version!',\n  content: [\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature:\n        'Is now working accordingly on FireFox (Why use this Browser anywhy? :p). Works also on Microsoft Edge (Not in any way better than FireFox).'\n    },\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        \"Added Annotations! When editing a card you can view and write card annotations. It's recommended to add an annotation when creating a card to explain the reasoning behind that card.\"\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature:\n        'Sort by \"Last Updated\" includes the last time someone added an annotation to a card.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'Card Sorting and Filtering are really fast now!'\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '1.0.1',\n  title: 'Awesome Yeah ',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature: 'You can now add emojis to your annotations.'\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '1.1.0',\n  title: 'Big User Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        'Un-secure Login. (When creating a card the creator is automatically set. Same for the annotations)'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature:\n        'Cards have now different states. [Draft, To Rate, Approved]. You can change stages in the card-edit-view. There you can release any card for the rating process.'\n    },\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        'You can now like or dislike a card if it is in the rating process. You can approve a card if 4 people liked that card more than people disliked the card.'\n    },\n    {\n      type: ChangeLogFeatureType.Fixed,\n      feature: 'Typos'\n    },\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        \"You can now add comments to a card. It's like a description of the meaning of that card.\"\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'Mechanics Editor is now more intuitive.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'Introduced new Mobile Design.'\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '1.1.1',\n  title: 'New Card Type Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature: 'Annotations now support mana icons and new-lines.'\n    },\n    {\n      type: ChangeLogFeatureType.Fixed,\n      feature: 'Added Access Key Security Patch.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'You can now re-enter the access key if it was wrong.'\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '1.1.2',\n  title: 'Mechanics Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: (\n        <div>\n          Rewrote Mechanic Parsing and fixed some old error.\n          <h5>Parser:</h5>\n          <ul>\n            <li>\"[-Miracle]\" is rendered as \"(...)\" without the Name of the mechanic</li>\n            <li>\"[Explore]\" is rendered as \"Explore (...)\" with the Name of the mechanic</li>\n            <li>{'\"[Cycling {2}]\" is rendered as \"Cycling {2} (...)\"'}</li>\n            <li>\n              {\n                '\"[Cycling {2}]\" is rendered as \"Cycling {2} ({2}, ...)\" if the description of the mechanic is \"{ref}, ...\"'\n              }\n            </li>\n            <li>\n              {\n                '\"[Surveil 2]\" is rendered as \"Surveil 2 (... 2 ...)\" if the description of the mechanic is \"... {ref} ...\"'\n              }\n            </li>\n            <li>\"[Enrage] xyz\" is rendered as \"Enrage  ... xyz\"</li>\n            <li>\"[Raid abc] xyz\" is rendered as \"Raid  abc ... xyz\"</li>\n          </ul>\n        </div>\n      )\n    }\n  ]\n});\n\n// updateLog.push({\n//   version: '1.1.3',\n//   title: 'New Card Type Update',\n//   content: [\n//     {\n//       type: ChangeLogFeatureType.Added,\n//       feature: 'Introduce Split Cards.'\n//     }\n//   ]\n// });\n\nexport default updateLog;\n","import React from 'react';\nimport { List, Row, Typography } from 'antd';\nimport ChangeLogEntryInterface from '../../interfaces/ChangeLogEntryInterface';\n\nimport styles from './logEntry.module.scss';\nimport { ChangeLogFeatureType } from '../../interfaces/enums';\n\nconst { Item: ListItem } = List;\nconst { Text } = Typography;\n\nconst LogEntry = (entry: ChangeLogEntryInterface) => {\n  const typeColor = (type: ChangeLogFeatureType) => {\n    if (type === ChangeLogFeatureType.Removed || type === ChangeLogFeatureType.Deprecated) {\n      return styles.delete;\n    }\n    if (type === ChangeLogFeatureType.Added || type === ChangeLogFeatureType.Fixed) {\n      return styles.new;\n    }\n    if (type === ChangeLogFeatureType.Changed) {\n      return styles.change;\n    }\n\n    return '';\n  };\n\n  return (\n    <Row className={styles.entry}>\n      <div className={styles.title}>{`${entry.version}  ${entry.title}`}</div>\n      <List\n        size=\"small\"\n        dataSource={entry.content}\n        renderItem={item => (\n          <ListItem>\n            {item.type !== ChangeLogFeatureType.None && (\n              <Text code className={typeColor(item.type)}>\n                {item.type}\n              </Text>\n            )}\n            <Text>{item.feature}</Text>\n          </ListItem>\n        )}\n      />\n    </Row>\n  );\n};\n\nexport default LogEntry;\n","import React, { useEffect } from 'react';\nimport { Modal } from 'antd';\n\nimport styles from './logEntry.module.scss';\n\nimport useLocalStorage from '../../utils/useLocalStorageHook';\nimport updateLog from './updateLog';\nimport LogEntry from './LogEntry';\n\nconst ChangeLogModal = () => {\n  const [lastSeenVersion, updateLastSeenVersion] = useLocalStorage(\n    'mtg-funset:last-seen-version',\n    '-1'\n  );\n\n  const renderLog = () => {\n    return updateLog\n      .filter((log, i) => i > parseInt(lastSeenVersion, 10))\n      .map(entry => <LogEntry {...entry} />);\n  };\n\n  useEffect(() => {\n    if (updateLog.length > 0 && updateLog.length - 1 > parseInt(lastSeenVersion, 10)) {\n      Modal.info({\n        title: 'Change Log',\n        content: renderLog(),\n        width: '90%',\n        className: styles.modal,\n        onOk() {\n          updateLastSeenVersion(updateLog.length - 1);\n        },\n        okText: 'Thanks for the info!'\n      });\n    }\n  }, [lastSeenVersion]);\n\n  return <div />;\n};\n\nexport default ChangeLogModal;\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import React, { useContext } from 'react';\n\nimport { Comment, Tooltip } from 'antd';\nimport moment from 'moment';\n\nimport _ from 'lodash';\n\nimport AnnotationInterface from '../../interfaces/AnnotationInterface';\n\nimport styles from './Annotations.module.scss';\nimport { Store, StoreType } from '../../store';\nimport { injectManaIcons } from '../CardRender/injectUtils';\n\ninterface AnnotationProps {\n  annotation: AnnotationInterface;\n}\n\nconst Annotation = ({ annotation }: AnnotationProps) => {\n  const { user } = useContext<StoreType>(Store);\n\n  const datetimeRender = (datetime: number) => (\n    <Tooltip title={moment(datetime).format('dddd, DD.MM.YYYY HH:mm')}>\n      <span>{moment(datetime).fromNow()}</span>\n    </Tooltip>\n  );\n\n  const author = _.find(user, o => o.uuid === annotation.author);\n\n  return (\n    <Comment\n      className={styles.entry}\n      author={author ? author.name : annotation.author}\n      content={annotation.content.split('\\n').map((item, i) => {\n        return (\n          <span>\n            {i > 0 && <br />}\n            {injectManaIcons(item)}\n          </span>\n        );\n      })}\n      datetime={datetimeRender(annotation.datetime)}\n    />\n  );\n};\n\nexport default Annotation;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Button, Input, Popover, Select } from 'antd';\n\nimport 'emoji-mart/css/emoji-mart.css';\nimport data from 'emoji-mart/data/apple.json';\nimport { BaseEmoji, Emoji, NimblePicker as Picker } from 'emoji-mart';\n\nimport styles from './Annotations.module.scss';\nimport { UNKNOWN_CREATOR } from '../../interfaces/constants';\nimport UserInterface from '../../interfaces/UserInterface';\nimport { Store, StoreType } from '../../store';\n\nconst { TextArea } = Input;\n\ninterface AnnotationEditorProps {\n  defaultContent?: string;\n  defaultAuthor?: UserInterface;\n  submitting: boolean;\n  onSubmit: (content: string, author: UserInterface) => void;\n}\n\nconst AnnotationEditor = ({\n  onSubmit,\n  submitting,\n  defaultContent = '',\n  defaultAuthor\n}: AnnotationEditorProps) => {\n  const { currentUser } = useContext<StoreType>(Store);\n\n  const [content, setContent] = useState(defaultContent);\n  const [author, setAuthor] = useState(defaultAuthor || currentUser || UNKNOWN_CREATOR);\n\n  useEffect(() => {\n    if (!submitting) {\n      setContent('');\n    }\n  }, [submitting]);\n  useEffect(() => setContent(defaultContent), [defaultContent]);\n  useEffect(() => setAuthor(defaultAuthor || currentUser || UNKNOWN_CREATOR), [\n    defaultAuthor,\n    currentUser\n  ]);\n\n  const onEmoji = (emoji: BaseEmoji) => {\n    setContent(content + emoji.native);\n  };\n\n  return (\n    <div className={styles.editor}>\n      <h3>{`Author: ${author.name}`}</h3>\n      {/* <Select */}\n      {/*  size=\"small\" */}\n      {/*  value={author.uuid} */}\n      {/*  onChange={(uuid: string) => */}\n      {/*    setAuthor(_.find(user, o => o.uuid === uuid) || UNKNOWN_CREATOR) */}\n      {/*  } */}\n      {/*  className={styles.fullWidth} */}\n      {/* > */}\n      {/*  {user.map(d => ( */}\n      {/*    <Select.Option key={`annotation-add-key-author-${d.uuid}`} value={d.uuid}> */}\n      {/*      {d.name} */}\n      {/*    </Select.Option> */}\n      {/*  ))} */}\n      {/* </Select> */}\n      <TextArea\n        autosize={{ minRows: 2, maxRows: 5 }}\n        value={content}\n        onChange={e => setContent(e.target.value)}\n        placeholder=\"Your comment\"\n      />\n      <Popover\n        content={<Picker onClick={onEmoji} data={data} showSkinTones={false} showPreview={false} />}\n      >\n        <div>\n          <Emoji emoji=\"smiley\" set=\"apple\" size={16} />\n        </div>\n      </Popover>\n      <Button\n        className={styles.button}\n        htmlType=\"submit\"\n        loading={submitting}\n        onClick={() => onSubmit(content, author)}\n        type=\"primary\"\n      >\n        Add Comment\n      </Button>\n    </div>\n  );\n};\n\nexport default AnnotationEditor;\n","import React, { useEffect, useState } from 'react';\nimport { List, Comment } from 'antd';\n\nimport _ from 'lodash';\n\nimport AnnotationInterface from '../../interfaces/AnnotationInterface';\nimport Annotation from './Annotation';\nimport AnnotationEditor from './AnnotationEditor';\n\nimport styles from './Annotations.module.scss';\nimport UserInterface from '../../interfaces/UserInterface';\n\ninterface AnnotationListProps {\n  annotations: AnnotationInterface[];\n  createAnnotation: (content: string, author: UserInterface) => void;\n  split?: boolean;\n  children?: JSX.Element | string;\n}\n\nconst AnnotationList = ({\n  annotations,\n  createAnnotation,\n  split,\n  children\n}: AnnotationListProps) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = (content: string, author: UserInterface) => {\n    setIsSubmitting(true);\n    createAnnotation(content, author);\n  };\n\n  useEffect(() => setIsSubmitting(false), [annotations]);\n\n  return (\n    <div className={styles.container} style={{ flexDirection: split ? 'row-reverse' : 'column' }}>\n      <div className={split ? styles.flexWrapper : ''}>{children}</div>\n      <div className={styles.flexWrapper}>\n        <List\n          className={styles.list}\n          header={`${annotations.length} annotations`}\n          itemLayout=\"horizontal\"\n          dataSource={_.sortBy(annotations, (o: AnnotationInterface) => o.datetime)}\n          renderItem={item => <Annotation annotation={item} />}\n        />\n      </div>\n      <div className={split ? styles.flexWrapper : ''}>\n        <Comment\n          className={styles.entry}\n          content={<AnnotationEditor onSubmit={handleSubmit} submitting={isSubmitting} />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AnnotationList;\n","import axios from 'axios';\n\nimport LogRocket from 'logrocket';\nimport { message } from 'antd';\nimport { Action, AnnotationActionType } from '../cardReducer';\n\nimport { getAccessToken } from '../utils/accessService';\nimport AnnotationInterface from '../interfaces/AnnotationInterface';\nimport UserInterface from '../interfaces/UserInterface';\nimport { captureError, ActionTag, RequestTag } from './errorLog';\n\nconst MIDDLEWARE_ENDPOINT =\n  process.env.NODE_ENV === 'production' ? '/annotations' : 'http://localhost:3001/annotations';\n\nexport const getAnnotations = (dispatch: (value: Action) => void) => {\n  LogRocket.log('Try to get all annotations');\n  const args = { params: { accessKey: getAccessToken() } };\n  axios\n    .get(MIDDLEWARE_ENDPOINT, args)\n    .then(result => {\n      dispatch({\n        type: AnnotationActionType.GetAnnotations,\n        payload: { annotations: result.data.annotations }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Annotation, RequestTag.Get, {});\n    });\n};\n\nexport const createAnnotation = (\n  dispatch: (value: Action) => void,\n  content: string,\n  author: UserInterface,\n  cardReference: string\n) => {\n  LogRocket.log('Try to create annotation', content, cardReference, author);\n  const args = { accessKey: getAccessToken(), content, author: author.uuid, cardReference };\n\n  axios\n    .post(MIDDLEWARE_ENDPOINT, args)\n    .then(result => {\n      message.success('Successfully Created Annotation!');\n      return dispatch({\n        type: AnnotationActionType.CreateAnnotation,\n        payload: {\n          annotation: result.data.annotation\n        }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Annotation, RequestTag.Create, {});\n      message.error('Failed creating a new annotation :(');\n    });\n};\n\nexport const updateAnnotation = (\n  dispatch: (value: Action) => void,\n  updated: AnnotationInterface\n) => {\n  LogRocket.log('Try to update annotation', updated);\n\n  axios\n    .put(MIDDLEWARE_ENDPOINT, { mechanic: updated, accessKey: getAccessToken() })\n    .then(result => {\n      message.success('Successfully Updated Annotation');\n      return dispatch({\n        type: AnnotationActionType.UpdateAnnotation,\n        payload: {\n          annotation: result.data.annotation\n        }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.Annotation, RequestTag.Update, {});\n      message.error(\"Could'nt update annotation\");\n    });\n};\n","import React, { useContext } from 'react';\nimport { Button, Card, Icon, Modal, Tooltip } from 'antd';\n\nimport _ from 'lodash';\n\nimport LogRocket from 'logrocket';\nimport CardInterface from '../../interfaces/CardInterface';\nimport styles from './BigCardRenderModal.module.scss';\nimport { NonMemoCardRender as CardRender } from '../CardRender/CardRender';\n// import CardRender from '../CardPixiRender';\nimport { Store, StoreType } from '../../store';\nimport useWindowDimensions from '../../useWindowDimensions';\nimport AnnotationList from '../AnnotationList/AnnotationList';\nimport { createAnnotation } from '../../actions/annotationActions';\nimport { CardState } from '../../interfaces/enums';\nimport { updateCard } from '../../actions/cardActions';\nimport { NEEDED_LIKES_TO_APPROVE } from '../../interfaces/constants';\n\ninterface BigCardRenderModalProps {\n  card: CardInterface;\n  visible: boolean;\n  hide: () => void;\n  collectionNumber: number;\n  collectionSize: number;\n  mobile?: boolean;\n}\n\nconst BigCardRenderModal = ({\n  card,\n  visible,\n  hide,\n  collectionNumber,\n  collectionSize,\n  mobile\n}: BigCardRenderModalProps) => {\n  const { annotationAccessor, currentUser, user, dispatch } = useContext<StoreType>(Store);\n\n  const annotations = annotationAccessor[card.uuid] || [];\n\n  const faces = [card.front];\n  if (card.back) faces.push(card.back);\n\n  const { width, height } = useWindowDimensions();\n  const rowLayout = mobile ? height > width : faces.length === 2;\n\n  const wOffset = mobile ? 40 : 50;\n  const hEditorSpace = rowLayout ? 200 : 0;\n  const hOffset = mobile ? 50 : 200;\n\n  const dimFactor = 488 / 680;\n\n  const modalMaxWidth = mobile ? width - wOffset : (width / 100) * 62.5 - wOffset;\n  const modalMaxHeight = height - hOffset - hEditorSpace;\n  const modalSingleCardWidth = Math.min(modalMaxWidth, modalMaxHeight * dimFactor);\n  const modalDoubleCardWidth = Math.min(modalMaxWidth, modalMaxHeight * dimFactor * 2);\n\n  const singleCardWidth = faces.length === 2 ? modalDoubleCardWidth / 2 : modalSingleCardWidth;\n  const fullCardWidth = faces.length === 2 ? modalDoubleCardWidth : modalSingleCardWidth;\n  const cardHeight = singleCardWidth / dimFactor;\n\n  let annotationWidth = rowLayout ? singleCardWidth * 2 : modalMaxWidth - singleCardWidth;\n  if (mobile && faces.length === 1)\n    annotationWidth = rowLayout ? singleCardWidth : modalMaxWidth - singleCardWidth;\n  const annotationHeight = rowLayout ? modalMaxHeight - cardHeight + hEditorSpace : cardHeight;\n\n  const updateState = (newState: CardState) => {\n    LogRocket.log(`Update Card State to ${newState}`, card.name);\n    const updatedCard = { ...card };\n    updatedCard.meta.state = newState;\n    updateCard(dispatch, updatedCard);\n  };\n\n  const draftView = (\n    <Button\n      ghost\n      type=\"danger\"\n      size=\"small\"\n      style={{ width: '100%' }}\n      onClick={() => updateState(CardState.Rate)}\n    >\n      Release for Rating!\n    </Button>\n  );\n\n  const liked = !!_.find(card.meta.likes, o => o === currentUser.uuid);\n  const disliked = !liked && !!_.find(card.meta.dislikes, o => o === currentUser.uuid);\n\n  const neededLikesCount = Math.max(\n    NEEDED_LIKES_TO_APPROVE - card.meta.likes.length + card.meta.dislikes.length,\n    0\n  );\n\n  const like = () => {\n    if (liked) return;\n\n    LogRocket.log('Like Card', card.name, card);\n    const updatedCard = { ...card };\n    if (disliked) {\n      updatedCard.meta.dislikes = updatedCard.meta.dislikes.filter(o => o !== currentUser.uuid);\n    }\n    updatedCard.meta.likes.push(currentUser.uuid);\n    updateCard(dispatch, updatedCard);\n  };\n\n  const dislike = () => {\n    if (disliked) return;\n\n    LogRocket.log('Dislike Card', card.name, card);\n    const updatedCard = { ...card };\n    if (liked) {\n      updatedCard.meta.likes = updatedCard.meta.likes.filter(o => o !== currentUser.uuid);\n    }\n    updatedCard.meta.dislikes.push(currentUser.uuid);\n    updateCard(dispatch, updatedCard);\n  };\n\n  const userUuidToNames = (uuids: string[]) =>\n    uuids\n      .map(uuid => _.find(user, u => u.uuid === uuid) || { name: '' })\n      .map(u => u.name)\n      .join(', ');\n\n  const rateView = (\n    <div>\n      <span onClick={like} style={{ cursor: 'pointer' }}>\n        <Tooltip title={userUuidToNames(card.meta.likes)}>\n          <Icon type=\"like\" theme={liked ? 'filled' : 'outlined'} />\n        </Tooltip>\n        <span style={{ paddingLeft: 4 }}>{card.meta.likes.length}</span>\n      </span>\n      <span onClick={dislike} style={{ paddingLeft: 8, cursor: 'pointer' }}>\n        <Tooltip title={userUuidToNames(card.meta.dislikes)}>\n          <Icon type=\"dislike\" theme={disliked ? 'filled' : 'outlined'} />\n        </Tooltip>\n        <span style={{ paddingLeft: 4 }}>{card.meta.dislikes.length}</span>\n      </span>\n      <span>\n        <Button\n          disabled={neededLikesCount > 0}\n          className={styles.stateButton}\n          ghost={neededLikesCount === 0}\n          type=\"danger\"\n          size=\"small\"\n          onClick={() => updateState(CardState.Approved)}\n        >\n          {`Approve!${neededLikesCount > 0 ? ` (need ${neededLikesCount} more likes)` : ''}`}\n        </Button>\n      </span>\n    </div>\n  );\n\n  let view = <div />;\n  if (card.meta.state === CardState.Draft) view = draftView;\n  if (card.meta.state === CardState.Rate) view = rateView;\n  // view = rateView;\n\n  const modalHeight = rowLayout ? modalMaxHeight + hEditorSpace : cardHeight;\n  const modalWidth = modalMaxWidth;\n\n  return (\n    <Modal\n      style={\n        mobile\n          ? { top: (height - modalHeight) * 0.5, left: (width - modalWidth - wOffset * 0.5) * 0.5 }\n          : {}\n      }\n      className={styles.modalCardViewWrapper}\n      wrapClassName=\"card-view\"\n      title={`View ${card.name}`}\n      visible={visible}\n      onOk={hide}\n      onCancel={hide}\n    >\n      <div\n        className={styles.view}\n        style={{\n          width: rowLayout ? fullCardWidth : modalMaxWidth,\n          flexDirection: rowLayout ? 'column' : 'row'\n        }}\n      >\n        <div\n          className={`${styles.modalCardGroupWrapper} ${\n            faces.length === 2\n              ? styles.modalCardGroupWrapperDouble\n              : styles.modalCardGroupWrapperSingle\n          }`}\n          style={{\n            width: fullCardWidth\n          }}\n        >\n          {faces.map(face => (\n            <div\n              className={styles.modalCardWrapper}\n              style={{\n                width: singleCardWidth\n              }}\n            >\n              <CardRender\n                containerWidth={singleCardWidth}\n                {...face}\n                cardID={card.uuid}\n                creator={card.creator.name}\n                rarity={card.rarity}\n                manaCost={card.manaCost}\n                collectionNumber={collectionNumber}\n                collectionSize={collectionSize}\n              />\n            </div>\n          ))}\n        </div>\n        <div\n          className={styles.annotationView}\n          style={{\n            width: `${annotationWidth}px`,\n            height: `${annotationHeight}px`\n          }}\n        >\n          <AnnotationList\n            split={mobile && faces.length === 2 ? false : rowLayout}\n            annotations={annotations}\n            createAnnotation={(content, author) =>\n              createAnnotation(dispatch, content, author, card.uuid)\n            }\n          >\n            <Card size=\"small\" bordered={false} className={styles.cardComment}>\n              {card.meta.comment && <p>{card.meta.comment}</p>}\n              {view}\n            </Card>\n          </AnnotationList>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default BigCardRenderModal;\n","import axios from 'axios';\n\nimport LogRocket from 'logrocket';\nimport { Action, UserActionType } from '../cardReducer';\nimport UserInterface from '../interfaces/UserInterface';\nimport { captureError, ActionTag, RequestTag } from './errorLog';\nimport { getAccessToken } from '../utils/accessService';\n\nconst MIDDLEWARE_ENDPOINT = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:3001';\n\nexport const setCurrentUser = (dispatch: (value: Action) => void, user: UserInterface) => {\n  LogRocket.identify(user.uuid, {\n    name: user.name\n  });\n  LogRocket.log(`Set current user to ${user.name}`, user);\n\n  dispatch({\n    type: UserActionType.SetCurrentUser,\n    payload: { user }\n  });\n};\n\nexport const getUser = (dispatch: (value: Action) => void) => {\n  const request = `${MIDDLEWARE_ENDPOINT}/user`;\n  const args = { params: { accessKey: getAccessToken() } };\n  LogRocket.log('Try to get all user');\n  axios\n    .get(request, args)\n    .then(result => {\n      dispatch({\n        type: UserActionType.GetUser,\n        payload: { user: result.data.user }\n      });\n    })\n    .catch(error => {\n      captureError(error, ActionTag.User, RequestTag.Get, {});\n    });\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Button, Col, Input, Modal, Row, Select, Tabs, Badge, Card, Result } from 'antd';\nimport _ from 'lodash';\n\nimport fileDownload from 'js-file-download';\n\nimport CardInterface from './interfaces/CardInterface';\nimport { CardState, ColorType, SortByType } from './interfaces/enums';\nimport CardCollection from './components/CardCollection/CardCollection';\nimport CardEditor from './components/CardEditor/CardEditor';\n\nimport { Store, StoreType } from './store';\n\nimport styles from './App.module.scss';\nimport './card-modal.scss';\nimport './ant-tabs.scss';\n\nimport CollectionFilterControls, {\n  CollectionFilterInterface\n} from './components/CollectionFilterControls/CollectionFilterControls';\nimport cardToColor from './components/CardRender/cardToColor';\nimport { createCard, EMPTY_CARD, refreshCollection } from './actions/cardActions';\n\nimport { hasAccessToken, updateAccessToken } from './utils/accessService';\nimport { getMechanics } from './actions/mechanicActions';\nimport MechanicModal from './components/MechanicModal/MechanicModal';\nimport useLocalStorage from './utils/useLocalStorageHook';\nimport ChangeLogModal from './components/ChangeLogModal/ChangeLogModal';\nimport BigCardRenderModal from './components/BigCardRenderModal/BigCardRenderModal';\nimport { getAnnotations } from './actions/annotationActions';\nimport { getUser, setCurrentUser } from './actions/userActions';\nimport { UNKNOWN_CREATOR } from './interfaces/constants';\nimport LogRocket from 'logrocket';\n\nconst { Search } = Input;\nconst { confirm } = Modal;\nconst { TabPane } = Tabs;\n\nconst NO_CARD = '-1';\n\nconst App: React.FC = () => {\n  const [tmpCard, setTmpCard] = useState<CardInterface | null>(null);\n  const [cardEditId, setCardEditId] = useState<string>(NO_CARD);\n  const [cardViewId, setCardViewId] = useState<string>(NO_CARD);\n  const [showCardModal, setShowCardModal] = useState<boolean>(false);\n  const [cardNameFilter, setCardNameFilter] = useState<string>('');\n  const [mechanicsVisible, setMechanicsVisible] = useState(false);\n  const [sortBy, setSortBy] = useLocalStorage('mtg-funset:SortBy', SortByType.LastUpdated);\n  const [seenCardUuids, setSeenCardUuids] = useLocalStorage(\n    'mtg-funset:seen-card-uuids',\n    '[]',\n    true\n  );\n\n  const [collectionFilter, setCollectionFilter] = useState<CollectionFilterInterface>({\n    colors: {},\n    rarity: {},\n    types: {}\n  });\n\n  const [colSpanSetting, setColSpanSetting] = useState<number>(-1);\n\n  const { cards, newUuid, dispatch, annotationAccessor, user, currentUser } = useContext<StoreType>(\n    Store\n  );\n\n  const mergedCollection = [...cards.filter(card => card.uuid !== (tmpCard ? tmpCard.uuid : ''))];\n  if (tmpCard) mergedCollection.push(tmpCard);\n\n  const lastUpdated = (card: CardInterface): number => {\n    const annotations = annotationAccessor[card.uuid];\n    if (!annotations) return card.meta.lastUpdated;\n\n    const lastAnnotatoin = annotations.reduce((a, b) => (a.datetime > b.datetime ? a : b));\n    return Math.max(lastAnnotatoin.datetime, card.meta.lastUpdated);\n  };\n\n  const sortList = [];\n  if (sortBy === SortByType.Color) {\n    sortList.push((o: CardInterface) =>\n      _.indexOf(Object.values(ColorType), cardToColor(o.front.cardMainType, o.manaCost).color)\n    );\n    sortList.push((o: CardInterface) => o.front.name.toLowerCase());\n  }\n  if (sortBy === SortByType.Creator) {\n    sortList.push((o: CardInterface) =>\n      o.creator.uuid === UNKNOWN_CREATOR.uuid ? 'zzzzz' : o.creator.name\n    );\n    sortList.push((o: CardInterface) =>\n      _.indexOf(Object.values(ColorType), cardToColor(o.front.cardMainType, o.manaCost).color)\n    );\n    sortList.push((o: CardInterface) => o.front.name.toLowerCase());\n  }\n  if (sortBy === SortByType.LastUpdated) {\n    sortList.push((o: CardInterface) => -1 * lastUpdated(o));\n  }\n\n  const filteredCollection = _.sortBy(mergedCollection, sortList).filter(\n    o =>\n      o.name.toLowerCase().includes(cardNameFilter.toLowerCase()) &&\n      collectionFilter.colors[cardToColor(o.front.cardMainType, o.manaCost).color] &&\n      collectionFilter.rarity[o.rarity] &&\n      collectionFilter.types[o.front.cardMainType]\n  );\n\n  const getCard = (collection: CardInterface[], uuid: string) =>\n    filteredCollection.find(card => card.uuid === uuid) || EMPTY_CARD();\n\n  const getCardUndefined = (collection: CardInterface[], uuid: string) =>\n    filteredCollection.find(card => card.uuid === uuid);\n\n  const addSeenCard = (uuid: string) => {\n    setSeenCardUuids([...seenCardUuids, uuid]);\n  };\n\n  useEffect(() => {\n    if (newUuid) {\n      addSeenCard(newUuid);\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      if (cardEditId === NO_CARD) openCardInEditor(newUuid, '');\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      else openCardInEditor(newUuid, getCard(filteredCollection, cardEditId).name);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [newUuid]);\n\n  const refresh = () => {\n    refreshCollection(dispatch);\n    getMechanics(dispatch);\n    getAnnotations(dispatch);\n    getUser(dispatch);\n  };\n\n  useEffect(refresh, []);\n\n  const downloadJson = (card: CardInterface) => {\n    const data = { ...card };\n\n    fileDownload(JSON.stringify(data), `${card.name}.json`);\n  };\n\n  const downloadCollectionAsJson = (cardCollection: CardInterface[]) => {\n    const collectionData: object[] = [];\n\n    cardCollection.forEach(card => {\n      collectionData.push(card);\n    });\n\n    fileDownload(JSON.stringify(collectionData), `magic-collection.json`);\n  };\n\n  const downloadImage = (id: string, name: string) => {\n    console.log(`image download: ${id} - ${name}`);\n  };\n\n  const viewCard = (id: string) => {\n    LogRocket.log(`View card ${getCard(filteredCollection, id).name}`);\n    setCardViewId(id);\n    setShowCardModal(true);\n  };\n\n  const openCardInEditor = (id: string, oldCardName: string) => {\n    if (id === cardEditId) {\n      viewCard(id);\n      return;\n    }\n\n    if (tmpCard) {\n      confirm({\n        title: `${oldCardName} has unsaved changes`,\n        okText: 'Yes discard all changes',\n        type: 'danger',\n        okType: 'danger',\n        cancelText: 'Edit old card',\n        onOk() {\n          setCardEditId(id);\n          viewCard(id);\n        },\n        onCancel() {\n          viewCard(cardEditId);\n        }\n      });\n    } else {\n      setCardEditId(id);\n      viewCard(id);\n    }\n  };\n\n  const createGrid = (collection: CardInterface[]) => {\n    const collectionSpan = 18;\n    const editorSpan = 6;\n\n    const seenCardObject: { [key: string]: boolean } = {};\n    seenCardUuids.forEach((uuid: string) => {\n      seenCardObject[uuid] = true;\n    });\n\n    const cardTabs = [\n      { name: 'All', filter: (o: CardInterface) => true },\n      {\n        name: 'Card Drafts / Idea Dump',\n        filter: (o: CardInterface) => o.meta.state === CardState.Draft\n      },\n      {\n        name: 'Cards to Rate',\n        filter: (o: CardInterface) => o.meta.state === CardState.Rate\n      },\n      {\n        name: 'Approved Cards',\n        filter: (o: CardInterface) => o.meta.state === CardState.Approved\n      }\n    ];\n\n    return (\n      <Row className={styles.fullHeight}>\n        <ChangeLogModal />\n        <MechanicModal visible={mechanicsVisible} setVisible={setMechanicsVisible} />\n        <Col span={collectionSpan} className={styles.collection}>\n          <Tabs defaultActiveKey=\"tab-key-Card Drafts / Idea Dump\" className={styles.collection}>\n            {cardTabs.map(tabObj => (\n              <TabPane\n                tab={\n                  <Badge\n                    className={styles.tabBadge}\n                    count={_.filter(filteredCollection, tabObj.filter).length}\n                    showZero\n                    overflowCount={999}\n                  >\n                    {tabObj.name}\n                  </Badge>\n                }\n                key={`tab-key-${tabObj.name}`}\n                className={styles.fullHeight}\n              >\n                <CardCollection\n                  cards={_.filter(filteredCollection, tabObj.filter)}\n                  currentEditId={cardEditId}\n                  editCard={id => {\n                    if (cardEditId === NO_CARD) openCardInEditor(id, '');\n                    else openCardInEditor(id, getCard(collection, cardEditId).name);\n                  }}\n                  downloadImage={id => downloadImage(id, getCard(collection, id).name)}\n                  downloadJson={id => downloadJson(getCard(collection, id))}\n                  colSpanSetting={colSpanSetting}\n                  seenCardUuids={seenCardObject}\n                  addSeenCard={addSeenCard}\n                />\n              </TabPane>\n            ))}\n          </Tabs>\n        </Col>\n        <Col span={editorSpan} className={styles.editor}>\n          <CardEditor card={getCardUndefined(collection, cardEditId)} saveTmpCard={setTmpCard} />\n        </Col>\n      </Row>\n    );\n  };\n\n  if (!hasAccessToken()) {\n    return (\n      <div className={styles.authWrapper}>\n        <Result\n          status=\"403\"\n          title=\"401\"\n          subTitle=\"Sorry, you are not authorized to access this page. But please try to authenticate yourself.\"\n          extra={\n            <Search\n              className={styles.accessKeyInput}\n              placeholder=\"Input Access Key\"\n              enterButton=\"Enter\"\n              onSearch={value => {\n                updateAccessToken(value);\n                window.location.reload();\n              }}\n            />\n          }\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div\n        className={`${styles.loginWrapper} ${\n          currentUser.uuid !== UNKNOWN_CREATOR.uuid ? styles.authenticated : ''\n        }`}\n      >\n        <Card title=\"Choose Current User\" style={{ width: '300px' }}>\n          <Select\n            size=\"large\"\n            onChange={(key: string) =>\n              setCurrentUser(dispatch, _.find(user, o => o.uuid === key) || UNKNOWN_CREATOR)\n            }\n            style={{ width: '100%' }}\n          >\n            {user.map(d => (\n              <Select.Option key={`login-user-${d.uuid}`} value={d.uuid}>\n                {d.name}\n              </Select.Option>\n            ))}\n          </Select>\n        </Card>\n      </div>\n      <Row\n        className={`${styles.app} ${\n          currentUser.uuid === UNKNOWN_CREATOR.uuid ? styles.unauthenticated : styles.authenticated\n        }`}\n      >\n        <Col span={3}>\n          <div className={styles.sortControls}>\n            <h3>Sort Collection By</h3>\n            <Select\n              className={styles.sortSelect}\n              size=\"small\"\n              // @ts-ignore\n              value={sortBy || SortByType.Color}\n              // @ts-ignore\n              onChange={(newSortByValue: SortByType) => setSortBy(newSortByValue)}\n            >\n              {Object.keys(SortByType).map((d: any) => (\n                <Select.Option key={`collection-filter-key-${d}`} value={SortByType[d]}>\n                  {SortByType[d]}\n                </Select.Option>\n              ))}\n            </Select>\n          </div>\n          <CollectionFilterControls\n            collection={cards}\n            setCollectionColSpan={setColSpanSetting}\n            setCollectionFilter={setCollectionFilter}\n            setNameFilter={setCardNameFilter}\n          />\n        </Col>\n        <Col span={21}>{createGrid(filteredCollection)}</Col>\n        <div className={styles.desktopControls}>\n          <Button\n            icon=\"edit\"\n            onClick={() => setMechanicsVisible(true)}\n            style={{ width: '100%', marginTop: '8px' }}\n            type=\"primary\"\n          >\n            Edit Mechanics\n          </Button>\n          <Button\n            icon=\"plus\"\n            type=\"primary\"\n            onClick={() => createCard(dispatch, currentUser)}\n            className={styles.fullWidth}\n          >\n            Add Card\n          </Button>\n          <Button\n            icon=\"download\"\n            type=\"primary\"\n            onClick={() => downloadCollectionAsJson(filteredCollection)}\n            className={styles.fullWidth}\n          >\n            JSON\n          </Button>\n          <Button icon=\"reload\" type=\"primary\" onClick={refresh} className={styles.fullWidth}>\n            Reload Collection\n          </Button>\n        </div>\n      </Row>\n      <BigCardRenderModal\n        card={getCard(filteredCollection, cardViewId)}\n        visible={showCardModal}\n        hide={() => setShowCardModal(false)}\n        collectionNumber={_.findIndex(\n          filteredCollection,\n          (o: CardInterface) => o.uuid === cardViewId\n        )}\n        collectionSize={filteredCollection.length}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Badge, Button, Card, Col, Input, Modal, Result, Row, Select, Tabs } from 'antd';\nimport _ from 'lodash';\n\nimport CardInterface from './interfaces/CardInterface';\nimport { CardState } from './interfaces/enums';\nimport CardCollection from './components/CardCollection/CardCollection';\nimport CardEditor from './components/CardEditor/CardEditor';\n\nimport { Store, StoreType } from './store';\n\nimport styles from './App.module.scss';\nimport './card-modal.scss';\nimport './ant-tabs.scss';\n\nimport CollectionFilterControls from './components/CollectionFilterControls/CollectionFilterControls';\nimport { createCard, EMPTY_CARD, refreshCollection } from './actions/cardActions';\n\nimport { hasAccessToken, updateAccessToken } from './utils/accessService';\nimport { getMechanics } from './actions/mechanicActions';\nimport MechanicModal from './components/MechanicModal/MechanicModal';\nimport useLocalStorage from './utils/useLocalStorageHook';\nimport ChangeLogModal from './components/ChangeLogModal/ChangeLogModal';\nimport BigCardRenderModal from './components/BigCardRenderModal/BigCardRenderModal';\nimport { getAnnotations } from './actions/annotationActions';\nimport { getUser, setCurrentUser } from './actions/userActions';\nimport { UNKNOWN_CREATOR } from './interfaces/constants';\n\nconst { Search } = Input;\nconst { confirm } = Modal;\nconst { TabPane } = Tabs;\n\nconst NO_CARD = '-1';\n\nconst MobileApp: React.FC = () => {\n  const [tmpCard, setTmpCard] = useState<CardInterface | null>(null);\n  const [cardEditId, setCardEditId] = useState<string>(NO_CARD);\n  const [cardViewId, setCardViewId] = useState<string>(NO_CARD);\n  const [showCardModal, setShowCardModal] = useState<boolean>(false);\n  const [cardNameFilter, setCardNameFilter] = useState<string>('');\n  const [mechanicsVisible, setMechanicsVisible] = useState(false);\n  const [seenCardUuids, setSeenCardUuids] = useLocalStorage(\n    'mtg-funset:seen-card-uuids',\n    '[]',\n    true\n  );\n\n  const { cards, newUuid, dispatch, annotationAccessor, user, currentUser } = useContext<StoreType>(\n    Store\n  );\n\n  const mergedCollection = [...cards.filter(card => card.uuid !== (tmpCard ? tmpCard.uuid : ''))];\n  if (tmpCard) mergedCollection.push(tmpCard);\n\n  const lastUpdated = (card: CardInterface): number => {\n    const annotations = annotationAccessor[card.uuid];\n    if (!annotations) return card.meta.lastUpdated;\n\n    const lastAnnotatoin = annotations.reduce((a, b) => (a.datetime > b.datetime ? a : b));\n    return Math.max(lastAnnotatoin.datetime, card.meta.lastUpdated);\n  };\n\n  const filteredCollection = _.sortBy(mergedCollection, [\n    (o: CardInterface) => -1 * lastUpdated(o)\n  ]).filter(o => o.name.toLowerCase().includes(cardNameFilter.toLowerCase()));\n\n  const getCard = (collection: CardInterface[], uuid: string) =>\n    filteredCollection.find(card => card.uuid === uuid) || EMPTY_CARD();\n\n  const getCardUndefined = (collection: CardInterface[], uuid: string) =>\n    filteredCollection.find(card => card.uuid === uuid);\n\n  const addSeenCard = (uuid: string) => {\n    setSeenCardUuids([...seenCardUuids, uuid]);\n  };\n\n  const viewCard = (id: string) => {\n    setCardViewId(id);\n    setShowCardModal(true);\n  };\n\n  const openCardInEditor = (id: string, oldCardName: string) => {\n    if (id === cardEditId) {\n      viewCard(id);\n      return;\n    }\n\n    if (tmpCard) {\n      confirm({\n        title: `${oldCardName} has unsaved changes`,\n        okText: 'Yes discard all changes',\n        type: 'danger',\n        okType: 'danger',\n        cancelText: 'Edit old card',\n        onOk() {\n          setCardEditId(id);\n          viewCard(id);\n        },\n        onCancel() {\n          viewCard(cardEditId);\n        }\n      });\n    } else {\n      setCardEditId(id);\n      viewCard(id);\n    }\n  };\n\n  useEffect(() => {\n    if (newUuid) {\n      addSeenCard(newUuid);\n      if (cardEditId === NO_CARD) openCardInEditor(newUuid, '');\n      else openCardInEditor(newUuid, getCard(filteredCollection, cardEditId).name);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [newUuid]);\n\n  const refresh = () => {\n    refreshCollection(dispatch);\n    getMechanics(dispatch);\n    getAnnotations(dispatch);\n    getUser(dispatch);\n  };\n\n  useEffect(refresh, []);\n\n  const createGrid = (collection: CardInterface[]) => {\n    const collectionSpan = 24;\n    const editorSpan = 0;\n\n    const seenCardObject: { [key: string]: boolean } = {};\n    seenCardUuids.forEach((uuid: string) => {\n      seenCardObject[uuid] = true;\n    });\n\n    const cardTabs = [\n      { name: 'All', filter: (o: CardInterface) => true },\n      {\n        name: 'Card Drafts / Idea Dump',\n        filter: (o: CardInterface) => o.meta.state === CardState.Draft\n      },\n      {\n        name: 'Cards to Rate',\n        filter: (o: CardInterface) => o.meta.state === CardState.Rate\n      },\n      {\n        name: 'Approved Cards',\n        filter: (o: CardInterface) => o.meta.state === CardState.Approved\n      }\n    ];\n\n    return (\n      <Row className={styles.fullHeight}>\n        <ChangeLogModal />\n        <MechanicModal visible={mechanicsVisible} setVisible={setMechanicsVisible} />\n        <Col span={collectionSpan} className={styles.collection}>\n          <Tabs defaultActiveKey=\"tab-key-Card Drafts / Idea Dump\" className={styles.collection}>\n            {cardTabs.map(tabObj => (\n              <TabPane\n                tab={\n                  <Badge\n                    className={styles.tabBadge}\n                    count={_.filter(filteredCollection, tabObj.filter).length}\n                    showZero\n                    overflowCount={999}\n                  >\n                    {tabObj.name}\n                  </Badge>\n                }\n                key={`tab-key-${tabObj.name}`}\n                className={styles.fullHeight}\n              >\n                <CardCollection\n                  cards={_.filter(filteredCollection, tabObj.filter)}\n                  currentEditId={cardEditId}\n                  editCard={id => {\n                    if (cardEditId === NO_CARD) openCardInEditor(id, '');\n                    else openCardInEditor(id, getCard(collection, cardEditId).name);\n                  }}\n                  seenCardUuids={seenCardObject}\n                  addSeenCard={addSeenCard}\n                  mobile\n                />\n              </TabPane>\n            ))}\n          </Tabs>\n        </Col>\n        <Col span={editorSpan} className={styles.editor}>\n          <CardEditor card={getCardUndefined(collection, cardEditId)} saveTmpCard={setTmpCard} />\n        </Col>\n      </Row>\n    );\n  };\n\n  if (!hasAccessToken()) {\n    return (\n      <div className={styles.authWrapper}>\n        <Result\n          status=\"403\"\n          title=\"401\"\n          subTitle=\"Sorry, you are not authorized to access this page. But please try to authenticate yourself.\"\n          extra={\n            <Search\n              placeholder=\"Input Access Key\"\n              enterButton=\"Enter\"\n              onSearch={value => {\n                updateAccessToken(value);\n                window.location.reload();\n              }}\n            />\n          }\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div\n        className={`${styles.loginWrapper} ${\n          currentUser.uuid !== UNKNOWN_CREATOR.uuid ? styles.authenticated : ''\n        }`}\n      >\n        <Card title=\"Choose Current User\" style={{ width: '300px' }}>\n          <Select\n            size=\"large\"\n            onChange={(key: string) =>\n              setCurrentUser(dispatch, _.find(user, o => o.uuid === key) || UNKNOWN_CREATOR)\n            }\n            style={{ width: '100%' }}\n          >\n            {user.map(d => (\n              <Select.Option key={`login-user-${d.uuid}`} value={d.uuid}>\n                {d.name}\n              </Select.Option>\n            ))}\n          </Select>\n        </Card>\n      </div>\n      <Row\n        className={`${styles.app} ${\n          currentUser.uuid === UNKNOWN_CREATOR.uuid ? styles.unauthenticated : styles.authenticated\n        }`}\n      >\n        <Col span={24} className={styles.collectionWrapper}>\n          {createGrid(filteredCollection)}\n        </Col>\n        <div className={styles.mobileControls}>\n          <CollectionFilterControls collection={cards} setNameFilter={setCardNameFilter} />\n          <Button\n            icon=\"edit\"\n            onClick={() => setMechanicsVisible(true)}\n            style={{ width: '100%', marginTop: '8px' }}\n            type=\"primary\"\n          >\n            Edit Mechanics\n          </Button>\n          <Button\n            icon=\"plus\"\n            type=\"primary\"\n            onClick={() => createCard(dispatch, currentUser)}\n            className={styles.fullWidth}\n          >\n            Add Card\n          </Button>\n          <Button icon=\"reload\" type=\"primary\" onClick={refresh} className={styles.fullWidth}>\n            Reload Collection\n          </Button>\n        </div>\n      </Row>\n      <BigCardRenderModal\n        mobile\n        card={getCard(filteredCollection, cardViewId)}\n        visible={showCardModal}\n        hide={() => setShowCardModal(false)}\n        collectionNumber={_.findIndex(\n          filteredCollection,\n          (o: CardInterface) => o.uuid === cardViewId\n        )}\n        collectionSize={filteredCollection.length}\n      />\n    </div>\n  );\n};\n\nexport default MobileApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. MobileApp is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport LogRocket from 'logrocket';\nimport setupLogRocketReact from 'logrocket-react';\n\nimport { BrowserView, MobileView } from 'react-device-detect';\n\nimport './index.css';\nimport App from './App';\nimport MobileApp from './MobileApp';\nimport * as serviceWorker from './serviceWorker';\nimport { StoreProvider } from './store';\n\nLogRocket.init('fkb4jh/magic-collection-renderer');\nsetupLogRocketReact(LogRocket);\n\nReactDOM.render(\n  <StoreProvider>\n    <BrowserView>\n      <App />\n    </BrowserView>\n    <MobileView>\n      <MobileApp />\n    </MobileView>\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Annotations_container__1xegI\",\"flexWrapper\":\"Annotations_flexWrapper__2TVI2\",\"list\":\"Annotations_list__2NFKW\",\"entry\":\"Annotations_entry__397xU\",\"editor\":\"Annotations_editor__27qp3\",\"fullWidth\":\"Annotations_fullWidth__2rs8_\",\"button\":\"Annotations_button__3nPYy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardComment\":\"BigCardRenderModal_cardComment__2pMch\",\"stateButton\":\"BigCardRenderModal_stateButton__3C5Jn\",\"view\":\"BigCardRenderModal_view__3OSFp\",\"annotationView\":\"BigCardRenderModal_annotationView__2ANVV\",\"modalCardViewWrapper\":\"BigCardRenderModal_modalCardViewWrapper__3IV85\",\"modalCardGroupWrapper\":\"BigCardRenderModal_modalCardGroupWrapper__2BHV5\",\"modalCardGroupWrapperSingle\":\"BigCardRenderModal_modalCardGroupWrapperSingle__Cwutt\",\"modalCardWrapper\":\"BigCardRenderModal_modalCardWrapper__Y9QoM\",\"modalCardGroupWrapperDouble\":\"BigCardRenderModal_modalCardGroupWrapperDouble__H8SMz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"entry\":\"logEntry_entry__2sqeC\",\"title\":\"logEntry_title__32nBo\",\"delete\":\"logEntry_delete__ilQHi\",\"new\":\"logEntry_new__YIByG\",\"change\":\"logEntry_change__2BJux\",\"modal\":\"logEntry_modal__3TQ25\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"styles_controls__8TwwB\",\"controlItem\":\"styles_controlItem__18p5t\"};"],"sourceRoot":""}